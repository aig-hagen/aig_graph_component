(function(wn){typeof define=="function"&&define.amd?define(wn):wn()})(function(){"use strict";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wn(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const vt={},yn=[],Ee=()=>{},oa=()=>!1,vr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ti=t=>t.startsWith("onUpdate:"),Lt=Object.assign,Ci=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},la=Object.prototype.hasOwnProperty,mt=(t,e)=>la.call(t,e),lt=Array.isArray,_n=t=>br(t)==="[object Map]",Ks=t=>br(t)==="[object Set]",ut=t=>typeof t=="function",Nt=t=>typeof t=="string",qe=t=>typeof t=="symbol",Ct=t=>t!==null&&typeof t=="object",Xs=t=>(Ct(t)||ut(t))&&ut(t.then)&&ut(t.catch),Ys=Object.prototype.toString,br=t=>Ys.call(t),ua=t=>br(t).slice(8,-1),xr=t=>br(t)==="[object Object]",Ni=t=>Nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jn=wn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Er=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},aa=/-(\w)/g,me=Er(t=>t.replace(aa,(e,n)=>n?n.toUpperCase():"")),ca=/\B([A-Z])/g,fe=Er(t=>t.replace(ca,"-$1").toLowerCase()),Js=Er(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ri=Er(t=>t?`on${Js(t)}`:""),Ue=(t,e)=>!Object.is(t,e),Li=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ii=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},fa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Qs=t=>{const e=Nt(t)?Number(t):NaN;return isNaN(e)?t:e};let Zs;const Sr=()=>Zs||(Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(t){if(lt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Nt(r)?ga(r):Oi(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Nt(t)||Ct(t))return t}const ha=/;(?![^(]*\))/g,da=/:([^]+)/,pa=/\/\*[^]*?\*\//g;function ga(t){const e={};return t.replace(pa,"").split(ha).forEach(n=>{if(n){const r=n.split(da);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $i(t){let e="";if(Nt(t))e=t;else if(lt(t))for(let n=0;n<t.length;n++){const r=$i(t[n]);r&&(e+=r+" ")}else if(Ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ma=wn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function to(t){return!!t||t===""}const eo=t=>!!(t&&t.__v_isRef===!0),$e=t=>Nt(t)?t:t==null?"":lt(t)||Ct(t)&&(t.toString===Ys||!ut(t.toString))?eo(t)?$e(t.value):JSON.stringify(t,no,2):String(t),no=(t,e)=>eo(e)?no(t,e.value):_n(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Ai(r,s)+" =>"]=i,n),{})}:Ks(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ai(n))}:qe(e)?Ai(e):Ct(e)&&!lt(e)&&!xr(e)?String(e):e,Ai=(t,e="")=>{var n;return qe(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qt;class wa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qt,!e&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Qt;try{return Qt=this,e()}finally{Qt=n}}}on(){++this._on===1&&(this.prevScope=Qt,Qt=this)}off(){this._on>0&&--this._on===0&&(Qt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ya(){return Qt}let Et;const Fi=new WeakSet;class ro{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qt&&Qt.active&&Qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fi.has(this)&&(Fi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||so(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,co(this),oo(this);const e=Et,n=we;Et=this,we=!0;try{return this.fn()}finally{lo(this),Et=e,we=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vi(e);this.deps=this.depsTail=void 0,co(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Di(this)&&this.run()}get dirty(){return Di(this)}}let io=0,Bn,Dn;function so(t,e=!1){if(t.flags|=8,e){t.next=Dn,Dn=t;return}t.next=Bn,Bn=t}function ji(){io++}function Bi(){if(--io>0)return;if(Dn){let e=Dn;for(Dn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Bn;){let e=Bn;for(Bn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function oo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function lo(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Vi(r),_a(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Di(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(uo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function uo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vn)||(t.globalVersion=Vn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Di(t))))return;t.flags|=2;const e=t.dep,n=Et,r=we;Et=t,we=!0;try{oo(t);const i=t.fn(t._value);(e.version===0||Ue(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Et=n,we=r,lo(t),t.flags&=-3}}function Vi(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Vi(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function _a(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let we=!0;const ao=[];function Se(){ao.push(we),we=!1}function Pe(){const t=ao.pop();we=t===void 0?!0:t}function co(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Et;Et=void 0;try{e()}finally{Et=n}}}let Vn=0;class va{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Et||!we||Et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Et)n=this.activeLink=new va(Et,this),Et.deps?(n.prevDep=Et.depsTail,Et.depsTail.nextDep=n,Et.depsTail=n):Et.deps=Et.depsTail=n,fo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Et.depsTail,n.nextDep=void 0,Et.depsTail.nextDep=n,Et.depsTail=n,Et.deps===n&&(Et.deps=r)}return n}trigger(e){this.version++,Vn++,this.notify(e)}notify(e){ji();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bi()}}}function fo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)fo(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Gi=new WeakMap,nn=Symbol(""),Hi=Symbol(""),zn=Symbol("");function Ft(t,e,n){if(we&&Et){let r=Gi.get(t);r||Gi.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new zi),i.map=r,i.key=n),i.track()}}function Ae(t,e,n,r,i,s){const o=Gi.get(t);if(!o){Vn++;return}const l=u=>{u&&u.trigger()};if(ji(),e==="clear")o.forEach(l);else{const u=lt(t),c=u&&Ni(n);if(u&&n==="length"){const a=Number(r);o.forEach((f,h)=>{(h==="length"||h===zn||!qe(h)&&h>=a)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(zn)),e){case"add":u?c&&l(o.get("length")):(l(o.get(nn)),_n(t)&&l(o.get(Hi)));break;case"delete":u||(l(o.get(nn)),_n(t)&&l(o.get(Hi)));break;case"set":_n(t)&&l(o.get(nn));break}}Bi()}function vn(t){const e=dt(t);return e===t?e:(Ft(e,"iterate",zn),he(t)?e:e.map(Ot))}function Pr(t){return Ft(t=dt(t),"iterate",zn),t}const ba={__proto__:null,[Symbol.iterator](){return qi(this,Symbol.iterator,Ot)},concat(...t){return vn(this).concat(...t.map(e=>lt(e)?vn(e):e))},entries(){return qi(this,"entries",t=>(t[1]=Ot(t[1]),t))},every(t,e){return Fe(this,"every",t,e,void 0,arguments)},filter(t,e){return Fe(this,"filter",t,e,n=>n.map(Ot),arguments)},find(t,e){return Fe(this,"find",t,e,Ot,arguments)},findIndex(t,e){return Fe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Fe(this,"findLast",t,e,Ot,arguments)},findLastIndex(t,e){return Fe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Fe(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ui(this,"includes",t)},indexOf(...t){return Ui(this,"indexOf",t)},join(t){return vn(this).join(t)},lastIndexOf(...t){return Ui(this,"lastIndexOf",t)},map(t,e){return Fe(this,"map",t,e,void 0,arguments)},pop(){return Gn(this,"pop")},push(...t){return Gn(this,"push",t)},reduce(t,...e){return ho(this,"reduce",t,e)},reduceRight(t,...e){return ho(this,"reduceRight",t,e)},shift(){return Gn(this,"shift")},some(t,e){return Fe(this,"some",t,e,void 0,arguments)},splice(...t){return Gn(this,"splice",t)},toReversed(){return vn(this).toReversed()},toSorted(t){return vn(this).toSorted(t)},toSpliced(...t){return vn(this).toSpliced(...t)},unshift(...t){return Gn(this,"unshift",t)},values(){return qi(this,"values",Ot)}};function qi(t,e,n){const r=Pr(t),i=r[e]();return r!==t&&!he(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const xa=Array.prototype;function Fe(t,e,n,r,i,s){const o=Pr(t),l=o!==t&&!he(t),u=o[e];if(u!==xa[e]){const f=u.apply(t,s);return l?Ot(f):f}let c=n;o!==t&&(l?c=function(f,h){return n.call(this,Ot(f),h,t)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,t)}));const a=u.call(o,c,r);return l&&i?i(a):a}function ho(t,e,n,r){const i=Pr(t);let s=n;return i!==t&&(he(t)?n.length>3&&(s=function(o,l,u){return n.call(this,o,l,u,t)}):s=function(o,l,u){return n.call(this,o,Ot(l),u,t)}),i[e](s,...r)}function Ui(t,e,n){const r=dt(t);Ft(r,"iterate",zn);const i=r[e](...n);return(i===-1||i===!1)&&Ki(n[0])?(n[0]=dt(n[0]),r[e](...n)):i}function Gn(t,e,n=[]){Se(),ji();const r=dt(t)[e].apply(t,n);return Bi(),Pe(),r}const Ea=wn("__proto__,__v_isRef,__isVue"),po=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qe));function Sa(t){qe(t)||(t=String(t));const e=dt(this);return Ft(e,"has",t),e.hasOwnProperty(t)}class go{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?bo:vo:s?_o:yo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=lt(e);if(!i){let u;if(o&&(u=ba[n]))return u;if(n==="hasOwnProperty")return Sa}const l=Reflect.get(e,n,$t(e)?e:r);return(qe(n)?po.has(n):Ea(n))||(i||Ft(e,"get",n),s)?l:$t(l)?o&&Ni(n)?l:l.value:Ct(l)?i?xo(l):Cr(l):l}}class mo extends go{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const u=We(s);if(!he(r)&&!We(r)&&(s=dt(s),r=dt(r)),!lt(e)&&$t(s)&&!$t(r))return u?!1:(s.value=r,!0)}const o=lt(e)&&Ni(n)?Number(n)<e.length:mt(e,n),l=Reflect.set(e,n,r,$t(e)?e:i);return e===dt(i)&&(o?Ue(r,s)&&Ae(e,"set",n,r):Ae(e,"add",n,r)),l}deleteProperty(e,n){const r=mt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ae(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!qe(n)||!po.has(n))&&Ft(e,"has",n),r}ownKeys(e){return Ft(e,"iterate",lt(e)?"length":nn),Reflect.ownKeys(e)}}class wo extends go{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Pa=new mo,Ma=new wo,ka=new mo(!0),Ta=new wo(!0),Wi=t=>t,Mr=t=>Reflect.getPrototypeOf(t);function Ca(t,e,n){return function(...r){const i=this.__v_raw,s=dt(i),o=_n(s),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=i[t](...r),a=n?Wi:e?Rr:Ot;return!e&&Ft(s,"iterate",u?Hi:nn),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[a(f[0]),a(f[1])]:a(f),done:h}},[Symbol.iterator](){return this}}}}function kr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Na(t,e){const n={get(i){const s=this.__v_raw,o=dt(s),l=dt(i);t||(Ue(i,l)&&Ft(o,"get",i),Ft(o,"get",l));const{has:u}=Mr(o),c=e?Wi:t?Rr:Ot;if(u.call(o,i))return c(s.get(i));if(u.call(o,l))return c(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Ft(dt(i),"iterate",nn),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=dt(s),l=dt(i);return t||(Ue(i,l)&&Ft(o,"has",i),Ft(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,u=dt(l),c=e?Wi:t?Rr:Ot;return!t&&Ft(u,"iterate",nn),l.forEach((a,f)=>i.call(s,c(a),c(f),o))}};return Lt(n,t?{add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear")}:{add(i){!e&&!he(i)&&!We(i)&&(i=dt(i));const s=dt(this);return Mr(s).has.call(s,i)||(s.add(i),Ae(s,"add",i,i)),this},set(i,s){!e&&!he(s)&&!We(s)&&(s=dt(s));const o=dt(this),{has:l,get:u}=Mr(o);let c=l.call(o,i);c||(i=dt(i),c=l.call(o,i));const a=u.call(o,i);return o.set(i,s),c?Ue(s,a)&&Ae(o,"set",i,s):Ae(o,"add",i,s),this},delete(i){const s=dt(this),{has:o,get:l}=Mr(s);let u=o.call(s,i);u||(i=dt(i),u=o.call(s,i)),l&&l.call(s,i);const c=s.delete(i);return u&&Ae(s,"delete",i,void 0),c},clear(){const i=dt(this),s=i.size!==0,o=i.clear();return s&&Ae(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Ca(i,t,e)}),n}function Tr(t,e){const n=Na(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(mt(n,i)&&i in r?n:r,i,s)}const Ra={get:Tr(!1,!1)},La={get:Tr(!1,!0)},Ia={get:Tr(!0,!1)},Oa={get:Tr(!0,!0)},yo=new WeakMap,_o=new WeakMap,vo=new WeakMap,bo=new WeakMap;function $a(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Aa(t){return t.__v_skip||!Object.isExtensible(t)?0:$a(ua(t))}function Cr(t){return We(t)?t:Nr(t,!1,Pa,Ra,yo)}function Fa(t){return Nr(t,!1,ka,La,_o)}function xo(t){return Nr(t,!0,Ma,Ia,vo)}function ew(t){return Nr(t,!0,Ta,Oa,bo)}function Nr(t,e,n,r,i){if(!Ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Aa(t);if(s===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function bn(t){return We(t)?bn(t.__v_raw):!!(t&&t.__v_isReactive)}function We(t){return!!(t&&t.__v_isReadonly)}function he(t){return!!(t&&t.__v_isShallow)}function Ki(t){return t?!!t.__v_raw:!1}function dt(t){const e=t&&t.__v_raw;return e?dt(e):t}function ja(t){return!mt(t,"__v_skip")&&Object.isExtensible(t)&&Ii(t,"__v_skip",!0),t}const Ot=t=>Ct(t)?Cr(t):t,Rr=t=>Ct(t)?xo(t):t;function $t(t){return t?t.__v_isRef===!0:!1}function Eo(t){return Ba(t,!1)}function Ba(t,e){return $t(t)?t:new Da(t,e)}class Da{constructor(e,n){this.dep=new zi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:dt(e),this._value=n?e:Ot(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||he(e)||We(e);e=r?e:dt(e),Ue(e,n)&&(this._rawValue=e,this._value=r?e:Ot(e),this.dep.trigger())}}function Hn(t){return $t(t)?t.value:t}const Va={get:(t,e,n)=>e==="__v_raw"?t:Hn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function So(t){return bn(t)?t:new Proxy(t,Va)}class za{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new zi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Et!==this)return so(this,!0),!0}get value(){const e=this.dep.track();return uo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ga(t,e,n=!1){let r,i;return ut(t)?r=t:(r=t.get,i=t.set),new za(r,i,n)}const Lr={},Ir=new WeakMap;let rn;function Ha(t,e=!1,n=rn){if(n){let r=Ir.get(n);r||Ir.set(n,r=[]),r.push(t)}}function qa(t,e,n=vt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:u}=n,c=m=>i?m:he(m)||i===!1||i===0?je(m,1):je(m);let a,f,h,p,w=!1,v=!1;if($t(t)?(f=()=>t.value,w=he(t)):bn(t)?(f=()=>c(t),w=!0):lt(t)?(v=!0,w=t.some(m=>bn(m)||he(m)),f=()=>t.map(m=>{if($t(m))return m.value;if(bn(m))return c(m);if(ut(m))return u?u(m,2):m()})):ut(t)?e?f=u?()=>u(t,2):t:f=()=>{if(h){Se();try{h()}finally{Pe()}}const m=rn;rn=a;try{return u?u(t,3,[p]):t(p)}finally{rn=m}}:f=Ee,e&&i){const m=f,P=i===!0?1/0:i;f=()=>je(m(),P)}const y=ya(),d=()=>{a.stop(),y&&y.active&&Ci(y.effects,a)};if(s&&e){const m=e;e=(...P)=>{m(...P),d()}}let S=v?new Array(t.length).fill(Lr):Lr;const N=m=>{if(!(!(a.flags&1)||!a.dirty&&!m))if(e){const P=a.run();if(i||w||(v?P.some(($,B)=>Ue($,S[B])):Ue(P,S))){h&&h();const $=rn;rn=a;try{const B=[P,S===Lr?void 0:v&&S[0]===Lr?[]:S,p];S=P,u?u(e,3,B):e(...B)}finally{rn=$}}}else a.run()};return l&&l(N),a=new ro(f),a.scheduler=o?()=>o(N,!1):N,p=m=>Ha(m,!1,a),h=a.onStop=()=>{const m=Ir.get(a);if(m){if(u)u(m,4);else for(const P of m)P();Ir.delete(a)}},e?r?N(!0):S=a.run():o?o(N.bind(null,!0),!0):a.run(),d.pause=a.pause.bind(a),d.resume=a.resume.bind(a),d.stop=d,d}function je(t,e=1/0,n){if(e<=0||!Ct(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,$t(t))je(t.value,e,n);else if(lt(t))for(let r=0;r<t.length;r++)je(t[r],e,n);else if(Ks(t)||_n(t))t.forEach(r=>{je(r,e,n)});else if(xr(t)){for(const r in t)je(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&je(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qn=[];let Xi=!1;function nw(t,...e){if(Xi)return;Xi=!0,Se();const n=qn.length?qn[qn.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=Ua();if(r)xn(r,n,11,[t+e.map(s=>{var o,l;return(l=(o=s.toString)==null?void 0:o.call(s))!=null?l:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${wl(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...Wa(i)),console.warn(...s)}Pe(),Xi=!1}function Ua(){let t=qn[qn.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function Wa(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...Ka(n))}),e}function Ka({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${wl(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...Xa(t.props),s]:[i+s]}function Xa(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Po(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Po(t,e,n){return Nt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:$t(e)?(e=Po(t,dt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ut(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=dt(e),n?e:[`${t}=`,e])}function xn(t,e,n,r){try{return r?t(...r):t()}catch(i){Or(i,e,n)}}function Me(t,e,n,r){if(ut(t)){const i=xn(t,e,n,r);return i&&Xs(i)&&i.catch(s=>{Or(s,e,n)}),i}if(lt(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Me(t[s],e,n,r));return i}}function Or(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||vt;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const a=l.ec;if(a){for(let f=0;f<a.length;f++)if(a[f](t,u,c)===!1)return}l=l.parent}if(s){Se(),xn(s,null,10,[t,u,c]),Pe();return}}Ya(t,n,i,r,o)}function Ya(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Dt=[];let ke=-1;const En=[];let Ke=null,Sn=0;const Mo=Promise.resolve();let $r=null;function ko(t){const e=$r||Mo;return t?e.then(this?t.bind(this):t):e}function Ja(t){let e=ke+1,n=Dt.length;for(;e<n;){const r=e+n>>>1,i=Dt[r],s=Un(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Yi(t){if(!(t.flags&1)){const e=Un(t),n=Dt[Dt.length-1];!n||!(t.flags&2)&&e>=Un(n)?Dt.push(t):Dt.splice(Ja(e),0,t),t.flags|=1,To()}}function To(){$r||($r=Mo.then(Ro))}function Qa(t){lt(t)?En.push(...t):Ke&&t.id===-1?Ke.splice(Sn+1,0,t):t.flags&1||(En.push(t),t.flags|=1),To()}function Co(t,e,n=ke+1){for(;n<Dt.length;n++){const r=Dt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Dt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function No(t){if(En.length){const e=[...new Set(En)].sort((n,r)=>Un(n)-Un(r));if(En.length=0,Ke){Ke.push(...e);return}for(Ke=e,Sn=0;Sn<Ke.length;Sn++){const n=Ke[Sn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ke=null,Sn=0}}const Un=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ro(t){try{for(ke=0;ke<Dt.length;ke++){const e=Dt[ke];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ke<Dt.length;ke++){const e=Dt[ke];e&&(e.flags&=-2)}ke=-1,Dt.length=0,No(),$r=null,(Dt.length||En.length)&&Ro()}}let de=null,Lo=null;function Ar(t){const e=de;return de=t,Lo=t&&t.type.__scopeId||null,e}function Za(t,e=de,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&cl(-1);const s=Ar(e);let o;try{o=t(...i)}finally{Ar(s),r._d&&cl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fr(t,e){if(de===null)return t;const n=qr(de),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,l,u=vt]=e[i];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&je(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function sn(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let u=l.dir[r];u&&(Se(),Me(u,n,8,[t.el,l,t,e]),Pe())}}const tc=Symbol("_vte"),ec=t=>t.__isTeleport;function Ji(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ji(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Qi(t,e){return ut(t)?Lt({name:t.name},e,{setup:t}):t}function Io(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Wn(t,e,n,r,i=!1){if(lt(t)){t.forEach((w,v)=>Wn(w,e&&(lt(e)?e[v]:e),n,r,i));return}if(Kn(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Wn(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?qr(r.component):r.el,o=i?null:s,{i:l,r:u}=t,c=e&&e.r,a=l.refs===vt?l.refs={}:l.refs,f=l.setupState,h=dt(f),p=f===vt?()=>!1:w=>mt(h,w);if(c!=null&&c!==u&&(Nt(c)?(a[c]=null,p(c)&&(f[c]=null)):$t(c)&&(c.value=null)),ut(u))xn(u,l,12,[o,a]);else{const w=Nt(u),v=$t(u);if(w||v){const y=()=>{if(t.f){const d=w?p(u)?f[u]:a[u]:u.value;i?lt(d)&&Ci(d,s):lt(d)?d.includes(s)||d.push(s):w?(a[u]=[s],p(u)&&(f[u]=a[u])):(u.value=[s],t.k&&(a[t.k]=u.value))}else w?(a[u]=o,p(u)&&(f[u]=o)):v&&(u.value=o,t.k&&(a[t.k]=o))};o?(y.id=-1,re(y,n)):y()}}}Sr().requestIdleCallback,Sr().cancelIdleCallback;const Kn=t=>!!t.type.__asyncLoader,Oo=t=>t.type.__isKeepAlive;function nc(t,e){$o(t,"a",e)}function rc(t,e){$o(t,"da",e)}function $o(t,e,n=zt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(jr(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Oo(i.parent.vnode)&&ic(r,e,n,i),i=i.parent}}function ic(t,e,n,r){const i=jr(e,t,r,!0);Zi(()=>{Ci(r[e],i)},n)}function jr(t,e,n=zt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Se();const l=tr(n),u=Me(e,n,t,o);return l(),Pe(),u});return r?i.unshift(s):i.push(s),s}}const Be=t=>(e,n=zt)=>{(!er||t==="sp")&&jr(t,(...r)=>e(...r),n)},Ao=Be("bm"),Fo=Be("m"),sc=Be("bu"),oc=Be("u"),lc=Be("bum"),Zi=Be("um"),uc=Be("sp"),ac=Be("rtg"),cc=Be("rtc");function fc(t,e=zt){jr("ec",t,e)}const hc=Symbol.for("v-ndc");function jo(t,e,n,r){let i;const s=n,o=lt(t);if(o||Nt(t)){const l=o&&bn(t);let u=!1,c=!1;l&&(u=!he(t),c=We(t),t=Pr(t)),i=new Array(t.length);for(let a=0,f=t.length;a<f;a++)i[a]=e(u?c?Rr(Ot(t[a])):Ot(t[a]):t[a],a,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(Ct(t))if(t[Symbol.iterator])i=Array.from(t,(l,u)=>e(l,u,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const a=l[u];i[u]=e(t[a],a,u,s)}}else i=[];return i}const ts=t=>t?pl(t)?qr(t):ts(t.parent):null,Xn=Lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ts(t.parent),$root:t=>ts(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>zo(t),$forceUpdate:t=>t.f||(t.f=()=>{Yi(t.update)}),$nextTick:t=>t.n||(t.n=ko.bind(t.proxy)),$watch:t=>Oc.bind(t)}),es=(t,e)=>t!==vt&&!t.__isScriptSetup&&mt(t,e),dc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:u}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(es(r,e))return o[e]=1,r[e];if(i!==vt&&mt(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&mt(c,e))return o[e]=3,s[e];if(n!==vt&&mt(n,e))return o[e]=4,n[e];ns&&(o[e]=0)}}const a=Xn[e];let f,h;if(a)return e==="$attrs"&&Ft(t.attrs,"get",""),a(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==vt&&mt(n,e))return o[e]=4,n[e];if(h=u.config.globalProperties,mt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return es(i,e)?(i[e]=n,!0):r!==vt&&mt(r,e)?(r[e]=n,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let l;return!!n[o]||t!==vt&&mt(t,o)||es(e,o)||(l=s[0])&&mt(l,o)||mt(r,o)||mt(Xn,o)||mt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Bo(t){return lt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ns=!0;function pc(t){const e=zo(t),n=t.proxy,r=t.ctx;ns=!1,e.beforeCreate&&Do(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:l,provide:u,inject:c,created:a,beforeMount:f,mounted:h,beforeUpdate:p,updated:w,activated:v,deactivated:y,beforeDestroy:d,beforeUnmount:S,destroyed:N,unmounted:m,render:P,renderTracked:$,renderTriggered:B,errorCaptured:q,serverPrefetch:Z,expose:j,inheritAttrs:Q,components:at,directives:U,filters:E}=e;if(c&&gc(c,r,null),o)for(const O in o){const L=o[O];ut(L)&&(r[O]=L.bind(n))}if(i){const O=i.call(n,n);Ct(O)&&(t.data=Cr(O))}if(ns=!0,s)for(const O in s){const L=s[O],X=ut(L)?L.bind(n,n):ut(L.get)?L.get.bind(n,n):Ee,J=!ut(L)&&ut(L.set)?L.set.bind(n):Ee,it=hs({get:X,set:J});Object.defineProperty(r,O,{enumerable:!0,configurable:!0,get:()=>it.value,set:ot=>it.value=ot})}if(l)for(const O in l)Vo(l[O],r,n,O);if(u){const O=ut(u)?u.call(n):u;Reflect.ownKeys(O).forEach(L=>{bc(L,O[L])})}a&&Do(a,t,"c");function T(O,L){lt(L)?L.forEach(X=>O(X.bind(n))):L&&O(L.bind(n))}if(T(Ao,f),T(Fo,h),T(sc,p),T(oc,w),T(nc,v),T(rc,y),T(fc,q),T(cc,$),T(ac,B),T(lc,S),T(Zi,m),T(uc,Z),lt(j))if(j.length){const O=t.exposed||(t.exposed={});j.forEach(L=>{Object.defineProperty(O,L,{get:()=>n[L],set:X=>n[L]=X})})}else t.exposed||(t.exposed={});P&&t.render===Ee&&(t.render=P),Q!=null&&(t.inheritAttrs=Q),at&&(t.components=at),U&&(t.directives=U),Z&&Io(t)}function gc(t,e,n=Ee){lt(t)&&(t=rs(t));for(const r in t){const i=t[r];let s;Ct(i)?"default"in i?s=Dr(i.from||r,i.default,!0):s=Dr(i.from||r):s=Dr(i),$t(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Do(t,e,n){Me(lt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Vo(t,e,n,r){let i=r.includes(".")?sl(n,r):()=>n[r];if(Nt(t)){const s=e[t];ut(s)&&us(i,s)}else if(ut(t))us(i,t.bind(n));else if(Ct(t))if(lt(t))t.forEach(s=>Vo(s,e,n,r));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&us(i,s,t)}}function zo(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,l=s.get(e);let u;return l?u=l:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(c=>Br(u,c,o,!0)),Br(u,e,o)),Ct(e)&&s.set(e,u),u}function Br(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Br(t,s,n,!0),i&&i.forEach(o=>Br(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=mc[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const mc={data:Go,props:Ho,emits:Ho,methods:Yn,computed:Yn,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:Yn,directives:Yn,watch:yc,provide:Go,inject:wc};function Go(t,e){return e?t?function(){return Lt(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function wc(t,e){return Yn(rs(t),rs(e))}function rs(t){if(lt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Yn(t,e){return t?Lt(Object.create(null),t,e):e}function Ho(t,e){return t?lt(t)&&lt(e)?[...new Set([...t,...e])]:Lt(Object.create(null),Bo(t),Bo(e??{})):e}function yc(t,e){if(!t)return e;if(!e)return t;const n=Lt(Object.create(null),t);for(const r in e)n[r]=Vt(t[r],e[r]);return n}function qo(){return{app:null,config:{isNativeTag:oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _c=0;function vc(t,e){return function(r,i=null){ut(r)||(r=Lt({},r)),i!=null&&!Ct(i)&&(i=null);const s=qo(),o=new WeakSet,l=[];let u=!1;const c=s.app={_uid:_c++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:of,get config(){return s.config},set config(a){},use(a,...f){return o.has(a)||(a&&ut(a.install)?(o.add(a),a.install(c,...f)):ut(a)&&(o.add(a),a(c,...f))),c},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),c},component(a,f){return f?(s.components[a]=f,c):s.components[a]},directive(a,f){return f?(s.directives[a]=f,c):s.directives[a]},mount(a,f,h){if(!u){const p=c._ceVNode||De(r,i);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(p,a,h),u=!0,c._container=a,a.__vue_app__=c,qr(p.component)}},onUnmount(a){l.push(a)},unmount(){u&&(Me(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(a,f){return s.provides[a]=f,c},runWithContext(a){const f=Pn;Pn=c;try{return a()}finally{Pn=f}}};return c}}let Pn=null;function bc(t,e){if(zt){let n=zt.provides;const r=zt.parent&&zt.parent.provides;r===n&&(n=zt.provides=Object.create(r)),n[t]=e}}function Dr(t,e,n=!1){const r=zt||de;if(r||Pn){let i=Pn?Pn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ut(e)?e.call(r&&r.proxy):e}}const Uo={},Wo=()=>Object.create(Uo),Ko=t=>Object.getPrototypeOf(t)===Uo;function xc(t,e,n,r=!1){const i={},s=Wo();t.propsDefaults=Object.create(null),Xo(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Fa(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Ec(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,l=dt(i),[u]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const a=t.vnode.dynamicProps;for(let f=0;f<a.length;f++){let h=a[f];if(Vr(t.emitsOptions,h))continue;const p=e[h];if(u)if(mt(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const w=me(h);i[w]=is(u,l,w,p,t,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{Xo(t,e,i,s)&&(c=!0);let a;for(const f in l)(!e||!mt(e,f)&&((a=fe(f))===f||!mt(e,a)))&&(u?n&&(n[f]!==void 0||n[a]!==void 0)&&(i[f]=is(u,l,f,void 0,t,!0)):delete i[f]);if(s!==l)for(const f in s)(!e||!mt(e,f))&&(delete s[f],c=!0)}c&&Ae(t.attrs,"set","")}function Xo(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(jn(u))continue;const c=e[u];let a;i&&mt(i,a=me(u))?!s||!s.includes(a)?n[a]=c:(l||(l={}))[a]=c:Vr(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(s){const u=dt(n),c=l||vt;for(let a=0;a<s.length;a++){const f=s[a];n[f]=is(i,u,f,c[f],t,!mt(c,f))}}return o}function is(t,e,n,r,i,s){const o=t[n];if(o!=null){const l=mt(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ut(u)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const a=tr(i);r=c[n]=u.call(null,e),a()}}else r=u;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===fe(n))&&(r=!0))}return r}const Sc=new WeakMap;function Yo(t,e,n=!1){const r=n?Sc:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},l=[];let u=!1;if(!ut(t)){const a=f=>{u=!0;const[h,p]=Yo(f,e,!0);Lt(o,h),p&&l.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!s&&!u)return Ct(t)&&r.set(t,yn),yn;if(lt(s))for(let a=0;a<s.length;a++){const f=me(s[a]);Jo(f)&&(o[f]=vt)}else if(s)for(const a in s){const f=me(a);if(Jo(f)){const h=s[a],p=o[f]=lt(h)||ut(h)?{type:h}:Lt({},h),w=p.type;let v=!1,y=!0;if(lt(w))for(let d=0;d<w.length;++d){const S=w[d],N=ut(S)&&S.name;if(N==="Boolean"){v=!0;break}else N==="String"&&(y=!1)}else v=ut(w)&&w.name==="Boolean";p[0]=v,p[1]=y,(v||mt(p,"default"))&&l.push(f)}}const c=[o,l];return Ct(t)&&r.set(t,c),c}function Jo(t){return t[0]!=="$"&&!jn(t)}const ss=t=>t[0]==="_"||t==="$stable",os=t=>lt(t)?t.map(Te):[Te(t)],Pc=(t,e,n)=>{if(e._n)return e;const r=Za((...i)=>os(e(...i)),n);return r._c=!1,r},Qo=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ss(i))continue;const s=t[i];if(ut(s))e[i]=Pc(i,s,r);else if(s!=null){const o=os(s);e[i]=()=>o}}},Zo=(t,e)=>{const n=os(e);t.slots.default=()=>n},tl=(t,e,n)=>{for(const r in e)(n||!ss(r))&&(t[r]=e[r])},Mc=(t,e,n)=>{const r=t.slots=Wo();if(t.vnode.shapeFlag&32){const i=e.__;i&&Ii(r,"__",i,!0);const s=e._;s?(tl(r,e,n),n&&Ii(r,"_",s,!0)):Qo(e,r)}else e&&Zo(t,e)},kc=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=vt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?s=!1:tl(i,e,n):(s=!e.$stable,Qo(e,i)),o=e}else e&&(Zo(t,e),o={default:1});if(s)for(const l in i)!ss(l)&&o[l]==null&&delete i[l]},re=Vc;function Tc(t){return Cc(t)}function Cc(t,e){const n=Sr();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:u,setText:c,setElementText:a,parentNode:f,nextSibling:h,setScopeId:p=Ee,insertStaticContent:w}=t,v=(_,x,C,F=null,I=null,A=null,K=void 0,W=null,H=!!x.dynamicChildren)=>{if(_===x)return;_&&!Zn(_,x)&&(F=xt(_),ot(_,I,A,!0),_=null),x.patchFlag===-2&&(H=!1,x.dynamicChildren=null);const{type:D,ref:tt,shapeFlag:Y}=x;switch(D){case zr:y(_,x,C,F);break;case Mn:d(_,x,C,F);break;case as:_==null&&S(x,C,F,K);break;case pe:at(_,x,C,F,I,A,K,W,H);break;default:Y&1?P(_,x,C,F,I,A,K,W,H):Y&6?U(_,x,C,F,I,A,K,W,H):(Y&64||Y&128)&&D.process(_,x,C,F,I,A,K,W,H,Yt)}tt!=null&&I?Wn(tt,_&&_.ref,A,x||_,!x):tt==null&&_&&_.ref!=null&&Wn(_.ref,null,A,_,!0)},y=(_,x,C,F)=>{if(_==null)r(x.el=l(x.children),C,F);else{const I=x.el=_.el;x.children!==_.children&&c(I,x.children)}},d=(_,x,C,F)=>{_==null?r(x.el=u(x.children||""),C,F):x.el=_.el},S=(_,x,C,F)=>{[_.el,_.anchor]=w(_.children,x,C,F,_.el,_.anchor)},N=({el:_,anchor:x},C,F)=>{let I;for(;_&&_!==x;)I=h(_),r(_,C,F),_=I;r(x,C,F)},m=({el:_,anchor:x})=>{let C;for(;_&&_!==x;)C=h(_),i(_),_=C;i(x)},P=(_,x,C,F,I,A,K,W,H)=>{x.type==="svg"?K="svg":x.type==="math"&&(K="mathml"),_==null?$(x,C,F,I,A,K,W,H):Z(_,x,I,A,K,W,H)},$=(_,x,C,F,I,A,K,W)=>{let H,D;const{props:tt,shapeFlag:Y,transition:et,dirs:st}=_;if(H=_.el=o(_.type,A,tt&&tt.is,tt),Y&8?a(H,_.children):Y&16&&q(_.children,H,null,F,I,ls(_,A),K,W),st&&sn(_,null,F,"created"),B(H,_,_.scopeId,K,F),tt){for(const _t in tt)_t!=="value"&&!jn(_t)&&s(H,_t,null,tt[_t],A,F);"value"in tt&&s(H,"value",null,tt.value,A),(D=tt.onVnodeBeforeMount)&&Ce(D,F,_)}st&&sn(_,null,F,"beforeMount");const ht=Nc(I,et);ht&&et.beforeEnter(H),r(H,x,C),((D=tt&&tt.onVnodeMounted)||ht||st)&&re(()=>{D&&Ce(D,F,_),ht&&et.enter(H),st&&sn(_,null,F,"mounted")},I)},B=(_,x,C,F,I)=>{if(C&&p(_,C),F)for(let A=0;A<F.length;A++)p(_,F[A]);if(I){let A=I.subTree;if(x===A||al(A.type)&&(A.ssContent===x||A.ssFallback===x)){const K=I.vnode;B(_,K,K.scopeId,K.slotScopeIds,I.parent)}}},q=(_,x,C,F,I,A,K,W,H=0)=>{for(let D=H;D<_.length;D++){const tt=_[D]=W?Je(_[D]):Te(_[D]);v(null,tt,x,C,F,I,A,K,W)}},Z=(_,x,C,F,I,A,K)=>{const W=x.el=_.el;let{patchFlag:H,dynamicChildren:D,dirs:tt}=x;H|=_.patchFlag&16;const Y=_.props||vt,et=x.props||vt;let st;if(C&&on(C,!1),(st=et.onVnodeBeforeUpdate)&&Ce(st,C,x,_),tt&&sn(x,_,C,"beforeUpdate"),C&&on(C,!0),(Y.innerHTML&&et.innerHTML==null||Y.textContent&&et.textContent==null)&&a(W,""),D?j(_.dynamicChildren,D,W,C,F,ls(x,I),A):K||L(_,x,W,null,C,F,ls(x,I),A,!1),H>0){if(H&16)Q(W,Y,et,C,I);else if(H&2&&Y.class!==et.class&&s(W,"class",null,et.class,I),H&4&&s(W,"style",Y.style,et.style,I),H&8){const ht=x.dynamicProps;for(let _t=0;_t<ht.length;_t++){const gt=ht[_t],At=Y[gt],Bt=et[gt];(Bt!==At||gt==="value")&&s(W,gt,At,Bt,I,C)}}H&1&&_.children!==x.children&&a(W,x.children)}else!K&&D==null&&Q(W,Y,et,C,I);((st=et.onVnodeUpdated)||tt)&&re(()=>{st&&Ce(st,C,x,_),tt&&sn(x,_,C,"updated")},F)},j=(_,x,C,F,I,A,K)=>{for(let W=0;W<x.length;W++){const H=_[W],D=x[W],tt=H.el&&(H.type===pe||!Zn(H,D)||H.shapeFlag&198)?f(H.el):C;v(H,D,tt,null,F,I,A,K,!0)}},Q=(_,x,C,F,I)=>{if(x!==C){if(x!==vt)for(const A in x)!jn(A)&&!(A in C)&&s(_,A,x[A],null,I,F);for(const A in C){if(jn(A))continue;const K=C[A],W=x[A];K!==W&&A!=="value"&&s(_,A,W,K,I,F)}"value"in C&&s(_,"value",x.value,C.value,I)}},at=(_,x,C,F,I,A,K,W,H)=>{const D=x.el=_?_.el:l(""),tt=x.anchor=_?_.anchor:l("");let{patchFlag:Y,dynamicChildren:et,slotScopeIds:st}=x;st&&(W=W?W.concat(st):st),_==null?(r(D,C,F),r(tt,C,F),q(x.children||[],C,tt,I,A,K,W,H)):Y>0&&Y&64&&et&&_.dynamicChildren?(j(_.dynamicChildren,et,C,I,A,K,W),(x.key!=null||I&&x===I.subTree)&&el(_,x,!0)):L(_,x,C,tt,I,A,K,W,H)},U=(_,x,C,F,I,A,K,W,H)=>{x.slotScopeIds=W,_==null?x.shapeFlag&512?I.ctx.activate(x,C,F,K,H):E(x,C,F,I,A,K,H):z(_,x,H)},E=(_,x,C,F,I,A,K)=>{const W=_.component=Yc(_,F,I);if(Oo(_)&&(W.ctx.renderer=Yt),Jc(W,!1,K),W.asyncDep){if(I&&I.registerDep(W,T,K),!_.el){const H=W.subTree=De(Mn);d(null,H,x,C)}}else T(W,_,x,C,I,A,K)},z=(_,x,C)=>{const F=x.component=_.component;if(Bc(_,x,C))if(F.asyncDep&&!F.asyncResolved){O(F,x,C);return}else F.next=x,F.update();else x.el=_.el,F.vnode=x},T=(_,x,C,F,I,A,K)=>{const W=()=>{if(_.isMounted){let{next:Y,bu:et,u:st,parent:ht,vnode:_t}=_;{const ce=nl(_);if(ce){Y&&(Y.el=_t.el,O(_,Y,K)),ce.asyncDep.then(()=>{_.isUnmounted||W()});return}}let gt=Y,At;on(_,!1),Y?(Y.el=_t.el,O(_,Y,K)):Y=_t,et&&Li(et),(At=Y.props&&Y.props.onVnodeBeforeUpdate)&&Ce(At,ht,Y,_t),on(_,!0);const Bt=ll(_),ae=_.subTree;_.subTree=Bt,v(ae,Bt,f(ae.el),xt(ae),_,I,A),Y.el=Bt.el,gt===null&&Dc(_,Bt.el),st&&re(st,I),(At=Y.props&&Y.props.onVnodeUpdated)&&re(()=>Ce(At,ht,Y,_t),I)}else{let Y;const{el:et,props:st}=x,{bm:ht,m:_t,parent:gt,root:At,type:Bt}=_,ae=Kn(x);on(_,!1),ht&&Li(ht),!ae&&(Y=st&&st.onVnodeBeforeMount)&&Ce(Y,gt,x),on(_,!0);{At.ce&&At.ce._def.shadowRoot!==!1&&At.ce._injectChildStyle(Bt);const ce=_.subTree=ll(_);v(null,ce,C,F,_,I,A),x.el=ce.el}if(_t&&re(_t,I),!ae&&(Y=st&&st.onVnodeMounted)){const ce=x;re(()=>Ce(Y,gt,ce),I)}(x.shapeFlag&256||gt&&Kn(gt.vnode)&&gt.vnode.shapeFlag&256)&&_.a&&re(_.a,I),_.isMounted=!0,x=C=F=null}};_.scope.on();const H=_.effect=new ro(W);_.scope.off();const D=_.update=H.run.bind(H),tt=_.job=H.runIfDirty.bind(H);tt.i=_,tt.id=_.uid,H.scheduler=()=>Yi(tt),on(_,!0),D()},O=(_,x,C)=>{x.component=_;const F=_.vnode.props;_.vnode=x,_.next=null,Ec(_,x.props,F,C),kc(_,x.children,C),Se(),Co(_),Pe()},L=(_,x,C,F,I,A,K,W,H=!1)=>{const D=_&&_.children,tt=_?_.shapeFlag:0,Y=x.children,{patchFlag:et,shapeFlag:st}=x;if(et>0){if(et&128){J(D,Y,C,F,I,A,K,W,H);return}else if(et&256){X(D,Y,C,F,I,A,K,W,H);return}}st&8?(tt&16&&Pt(D,I,A),Y!==D&&a(C,Y)):tt&16?st&16?J(D,Y,C,F,I,A,K,W,H):Pt(D,I,A,!0):(tt&8&&a(C,""),st&16&&q(Y,C,F,I,A,K,W,H))},X=(_,x,C,F,I,A,K,W,H)=>{_=_||yn,x=x||yn;const D=_.length,tt=x.length,Y=Math.min(D,tt);let et;for(et=0;et<Y;et++){const st=x[et]=H?Je(x[et]):Te(x[et]);v(_[et],st,C,null,I,A,K,W,H)}D>tt?Pt(_,I,A,!0,!1,Y):q(x,C,F,I,A,K,W,H,Y)},J=(_,x,C,F,I,A,K,W,H)=>{let D=0;const tt=x.length;let Y=_.length-1,et=tt-1;for(;D<=Y&&D<=et;){const st=_[D],ht=x[D]=H?Je(x[D]):Te(x[D]);if(Zn(st,ht))v(st,ht,C,null,I,A,K,W,H);else break;D++}for(;D<=Y&&D<=et;){const st=_[Y],ht=x[et]=H?Je(x[et]):Te(x[et]);if(Zn(st,ht))v(st,ht,C,null,I,A,K,W,H);else break;Y--,et--}if(D>Y){if(D<=et){const st=et+1,ht=st<tt?x[st].el:F;for(;D<=et;)v(null,x[D]=H?Je(x[D]):Te(x[D]),C,ht,I,A,K,W,H),D++}}else if(D>et)for(;D<=Y;)ot(_[D],I,A,!0),D++;else{const st=D,ht=D,_t=new Map;for(D=ht;D<=et;D++){const Jt=x[D]=H?Je(x[D]):Te(x[D]);Jt.key!=null&&_t.set(Jt.key,D)}let gt,At=0;const Bt=et-ht+1;let ae=!1,ce=0;const gn=new Array(Bt);for(D=0;D<Bt;D++)gn[D]=0;for(D=st;D<=Y;D++){const Jt=_[D];if(At>=Bt){ot(Jt,I,A,!0);continue}let ge;if(Jt.key!=null)ge=_t.get(Jt.key);else for(gt=ht;gt<=et;gt++)if(gn[gt-ht]===0&&Zn(Jt,x[gt])){ge=gt;break}ge===void 0?ot(Jt,I,A,!0):(gn[ge-ht]=D+1,ge>=ce?ce=ge:ae=!0,v(Jt,x[ge],C,null,I,A,K,W,H),At++)}const Pi=ae?Rc(gn):yn;for(gt=Pi.length-1,D=Bt-1;D>=0;D--){const Jt=ht+D,ge=x[Jt],Mi=Jt+1<tt?x[Jt+1].el:F;gn[D]===0?v(null,ge,C,Mi,I,A,K,W,H):ae&&(gt<0||D!==Pi[gt]?it(ge,C,Mi,2):gt--)}}},it=(_,x,C,F,I=null)=>{const{el:A,type:K,transition:W,children:H,shapeFlag:D}=_;if(D&6){it(_.component.subTree,x,C,F);return}if(D&128){_.suspense.move(x,C,F);return}if(D&64){K.move(_,x,C,Yt);return}if(K===pe){r(A,x,C);for(let Y=0;Y<H.length;Y++)it(H[Y],x,C,F);r(_.anchor,x,C);return}if(K===as){N(_,x,C);return}if(F!==2&&D&1&&W)if(F===0)W.beforeEnter(A),r(A,x,C),re(()=>W.enter(A),I);else{const{leave:Y,delayLeave:et,afterLeave:st}=W,ht=()=>{_.ctx.isUnmounted?i(A):r(A,x,C)},_t=()=>{Y(A,()=>{ht(),st&&st()})};et?et(A,ht,_t):_t()}else r(A,x,C)},ot=(_,x,C,F=!1,I=!1)=>{const{type:A,props:K,ref:W,children:H,dynamicChildren:D,shapeFlag:tt,patchFlag:Y,dirs:et,cacheIndex:st}=_;if(Y===-2&&(I=!1),W!=null&&(Se(),Wn(W,null,C,_,!0),Pe()),st!=null&&(x.renderCache[st]=void 0),tt&256){x.ctx.deactivate(_);return}const ht=tt&1&&et,_t=!Kn(_);let gt;if(_t&&(gt=K&&K.onVnodeBeforeUnmount)&&Ce(gt,x,_),tt&6)yt(_.component,C,F);else{if(tt&128){_.suspense.unmount(C,F);return}ht&&sn(_,null,x,"beforeUnmount"),tt&64?_.type.remove(_,x,C,Yt,F):D&&!D.hasOnce&&(A!==pe||Y>0&&Y&64)?Pt(D,x,C,!1,!0):(A===pe&&Y&384||!I&&tt&16)&&Pt(H,x,C),F&&St(_)}(_t&&(gt=K&&K.onVnodeUnmounted)||ht)&&re(()=>{gt&&Ce(gt,x,_),ht&&sn(_,null,x,"unmounted")},C)},St=_=>{const{type:x,el:C,anchor:F,transition:I}=_;if(x===pe){wt(C,F);return}if(x===as){m(_);return}const A=()=>{i(C),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(_.shapeFlag&1&&I&&!I.persisted){const{leave:K,delayLeave:W}=I,H=()=>K(C,A);W?W(_.el,A,H):H()}else A()},wt=(_,x)=>{let C;for(;_!==x;)C=h(_),i(_),_=C;i(x)},yt=(_,x,C)=>{const{bum:F,scope:I,job:A,subTree:K,um:W,m:H,a:D,parent:tt,slots:{__:Y}}=_;rl(H),rl(D),F&&Li(F),tt&&lt(Y)&&Y.forEach(et=>{tt.renderCache[et]=void 0}),I.stop(),A&&(A.flags|=8,ot(K,_,x,C)),W&&re(W,x),re(()=>{_.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},Pt=(_,x,C,F=!1,I=!1,A=0)=>{for(let K=A;K<_.length;K++)ot(_[K],x,C,F,I)},xt=_=>{if(_.shapeFlag&6)return xt(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const x=h(_.anchor||_.el),C=x&&x[tc];return C?h(C):x};let Mt=!1;const It=(_,x,C)=>{_==null?x._vnode&&ot(x._vnode,null,null,!0):v(x._vnode||null,_,x,null,null,null,C),x._vnode=_,Mt||(Mt=!0,Co(),No(),Mt=!1)},Yt={p:v,um:ot,m:it,r:St,mt:E,mc:q,pc:L,pbc:j,n:xt,o:t};return{render:It,hydrate:void 0,createApp:vc(It)}}function ls({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function on({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Nc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function el(t,e,n=!1){const r=t.children,i=e.children;if(lt(r)&&lt(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Je(i[s]),l.el=o.el),!n&&l.patchFlag!==-2&&el(o,l)),l.type===zr&&(l.el=o.el),l.type===Mn&&!l.el&&(l.el=o.el)}}function Rc(t){const e=t.slice(),n=[0];let r,i,s,o,l;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,t[n[l]]<c?s=l+1:o=l;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function nl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nl(e)}function rl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Lc=Symbol.for("v-scx"),Ic=()=>Dr(Lc);function us(t,e,n){return il(t,e,n)}function il(t,e,n=vt){const{immediate:r,deep:i,flush:s,once:o}=n,l=Lt({},n),u=e&&r||!e&&s!=="post";let c;if(er){if(s==="sync"){const p=Ic();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=Ee,p.resume=Ee,p.pause=Ee,p}}const a=zt;l.call=(p,w,v)=>Me(p,a,w,v);let f=!1;s==="post"?l.scheduler=p=>{re(p,a&&a.suspense)}:s!=="sync"&&(f=!0,l.scheduler=(p,w)=>{w?p():Yi(p)}),l.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,a&&(p.id=a.uid,p.i=a))};const h=qa(t,e,l);return er&&(c?c.push(h):u&&h()),h}function Oc(t,e,n){const r=this.proxy,i=Nt(t)?t.includes(".")?sl(r,t):()=>r[t]:t.bind(r,r);let s;ut(e)?s=e:(s=e.handler,n=e);const o=tr(this),l=il(i,s.bind(r),n);return o(),l}function sl(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const $c=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${me(e)}Modifiers`]||t[`${fe(e)}Modifiers`];function Ac(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||vt;let i=n;const s=e.startsWith("update:"),o=s&&$c(r,e.slice(7));o&&(o.trim&&(i=n.map(a=>Nt(a)?a.trim():a)),o.number&&(i=n.map(fa)));let l,u=r[l=Ri(e)]||r[l=Ri(me(e))];!u&&s&&(u=r[l=Ri(fe(e))]),u&&Me(u,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Me(c,t,6,i)}}function ol(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},l=!1;if(!ut(t)){const u=c=>{const a=ol(c,e,!0);a&&(l=!0,Lt(o,a))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!l?(Ct(t)&&r.set(t,null),null):(lt(s)?s.forEach(u=>o[u]=null):Lt(o,s),Ct(t)&&r.set(t,o),o)}function Vr(t,e){return!t||!vr(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,fe(e))||mt(t,e))}function rw(){}function ll(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:u,render:c,renderCache:a,props:f,data:h,setupState:p,ctx:w,inheritAttrs:v}=t,y=Ar(t);let d,S;try{if(n.shapeFlag&4){const m=i||r,P=m;d=Te(c.call(P,m,a,f,p,h,w)),S=l}else{const m=e;d=Te(m.length>1?m(f,{attrs:l,slots:o,emit:u}):m(f,null)),S=e.props?l:Fc(l)}}catch(m){Jn.length=0,Or(m,t,1),d=De(Mn)}let N=d;if(S&&v!==!1){const m=Object.keys(S),{shapeFlag:P}=N;m.length&&P&7&&(s&&m.some(Ti)&&(S=jc(S,s)),N=kn(N,S,!1,!0))}return n.dirs&&(N=kn(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&Ji(N,n.transition),d=N,Ar(y),d}const Fc=t=>{let e;for(const n in t)(n==="class"||n==="style"||vr(n))&&((e||(e={}))[n]=t[n]);return e},jc=(t,e)=>{const n={};for(const r in t)(!Ti(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Bc(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:l,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?ul(r,o,c):!!o;if(u&8){const a=e.dynamicProps;for(let f=0;f<a.length;f++){const h=a[f];if(o[h]!==r[h]&&!Vr(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?ul(r,o,c):!0:!!o;return!1}function ul(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Vr(n,s))return!0}return!1}function Dc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const al=t=>t.__isSuspense;function Vc(t,e){e&&e.pendingBranch?lt(t)?e.effects.push(...t):e.effects.push(t):Qa(t)}const pe=Symbol.for("v-fgt"),zr=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),as=Symbol.for("v-stc"),Jn=[];let ie=null;function Xe(t=!1){Jn.push(ie=t?null:[])}function zc(){Jn.pop(),ie=Jn[Jn.length-1]||null}let Qn=1;function cl(t,e=!1){Qn+=t,t<0&&ie&&e&&(ie.hasOnce=!0)}function Gc(t){return t.dynamicChildren=Qn>0?ie||yn:null,zc(),Qn>0&&ie&&ie.push(t),t}function Ye(t,e,n,r,i,s){return Gc(se(t,e,n,r,i,s,!0))}function fl(t){return t?t.__v_isVNode===!0:!1}function Zn(t,e){return t.type===e.type&&t.key===e.key}const hl=({key:t})=>t??null,Gr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Nt(t)||$t(t)||ut(t)?{i:de,r:t,k:e,f:!!n}:t:null);function se(t,e=null,n=null,r=0,i=null,s=t===pe?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hl(e),ref:e&&Gr(e),scopeId:Lo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:de};return l?(cs(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=Nt(n)?8:16),Qn>0&&!o&&ie&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&ie.push(u),u}const De=Hc;function Hc(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===hc)&&(t=Mn),fl(t)){const l=kn(t,e,!0);return n&&cs(l,n),Qn>0&&!s&&ie&&(l.shapeFlag&6?ie[ie.indexOf(t)]=l:ie.push(l)),l.patchFlag=-2,l}if(sf(t)&&(t=t.__vccOpts),e){e=qc(e);let{class:l,style:u}=e;l&&!Nt(l)&&(e.class=$i(l)),Ct(u)&&(Ki(u)&&!lt(u)&&(u=Lt({},u)),e.style=Oi(u))}const o=Nt(t)?1:al(t)?128:ec(t)?64:Ct(t)?4:ut(t)?2:0;return se(t,e,n,r,i,o,s,!0)}function qc(t){return t?Ki(t)||Ko(t)?Lt({},t):t:null}function kn(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:u}=t,c=e?Wc(i||{},e):i,a={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&hl(c),ref:e&&e.ref?n&&s?lt(s)?s.concat(Gr(e)):[s,Gr(e)]:Gr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kn(t.ssContent),ssFallback:t.ssFallback&&kn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&Ji(a,u.clone(a)),a}function Uc(t=" ",e=0){return De(zr,null,t,e)}function Te(t){return t==null||typeof t=="boolean"?De(Mn):lt(t)?De(pe,null,t.slice()):fl(t)?Je(t):De(zr,null,String(t))}function Je(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kn(t)}function cs(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(lt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),cs(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ko(e)?e._ctx=de:i===3&&de&&(de.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:de},n=32):(e=String(e),r&64?(n=16,e=[Uc(e)]):n=8);t.children=e,t.shapeFlag|=n}function Wc(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=$i([e.class,r.class]));else if(i==="style")e.style=Oi([e.style,r.style]);else if(vr(i)){const s=e[i],o=r[i];o&&s!==o&&!(lt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ce(t,e,n,r=null){Me(t,e,7,[n,r])}const Kc=qo();let Xc=0;function Yc(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Kc,s={uid:Xc++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yo(r,i),emitsOptions:ol(r,i),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Ac.bind(null,s),t.ce&&t.ce(s),s}let zt=null,Hr,fs;{const t=Sr(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Hr=e("__VUE_INSTANCE_SETTERS__",n=>zt=n),fs=e("__VUE_SSR_SETTERS__",n=>er=n)}const tr=t=>{const e=zt;return Hr(t),t.scope.on(),()=>{t.scope.off(),Hr(e)}},dl=()=>{zt&&zt.scope.off(),Hr(null)};function pl(t){return t.vnode.shapeFlag&4}let er=!1;function Jc(t,e=!1,n=!1){e&&fs(e);const{props:r,children:i}=t.vnode,s=pl(t);xc(t,r,s,e),Mc(t,i,n||e);const o=s?Qc(t,e):void 0;return e&&fs(!1),o}function Qc(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dc);const{setup:r}=n;if(r){Se();const i=t.setupContext=r.length>1?tf(t):null,s=tr(t),o=xn(r,t,0,[t.props,i]),l=Xs(o);if(Pe(),s(),(l||t.sp)&&!Kn(t)&&Io(t),l){if(o.then(dl,dl),e)return o.then(u=>{gl(t,u)}).catch(u=>{Or(u,t,0)});t.asyncDep=o}else gl(t,o)}else ml(t)}function gl(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ct(e)&&(t.setupState=So(e)),ml(t)}function ml(t,e,n){const r=t.type;t.render||(t.render=r.render||Ee);{const i=tr(t);Se();try{pc(t)}finally{Pe(),i()}}}const Zc={get(t,e){return Ft(t,"get",""),t[e]}};function tf(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Zc),slots:t.slots,emit:t.emit,expose:e}}function qr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(So(ja(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xn)return Xn[n](t)},has(e,n){return n in e||n in Xn}})):t.proxy}const ef=/(?:^|[-_])(\w)/g,nf=t=>t.replace(ef,e=>e.toUpperCase()).replace(/[-_]/g,"");function rf(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function wl(t,e,n=!1){let r=rf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?nf(r):n?"App":"Anonymous"}function sf(t){return ut(t)&&"__vccOpts"in t}const hs=(t,e)=>Ga(t,e,er),of="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ds;const yl=typeof window<"u"&&window.trustedTypes;if(yl)try{ds=yl.createPolicy("vue",{createHTML:t=>t})}catch{}const _l=ds?t=>ds.createHTML(t):t=>t,lf="http://www.w3.org/2000/svg",uf="http://www.w3.org/1998/Math/MathML",Ve=typeof document<"u"?document:null,vl=Ve&&Ve.createElement("template"),af={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Ve.createElementNS(lf,t):e==="mathml"?Ve.createElementNS(uf,t):n?Ve.createElement(t,{is:n}):Ve.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ve.createTextNode(t),createComment:t=>Ve.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ve.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{vl.innerHTML=_l(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=vl.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cf=Symbol("_vtc");function ff(t,e,n){const r=t[cf];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ur=Symbol("_vod"),bl=Symbol("_vsh"),Wr={beforeMount(t,{value:e},{transition:n}){t[Ur]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):nr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),nr(t,!0),r.enter(t)):r.leave(t,()=>{nr(t,!1)}):nr(t,e))},beforeUnmount(t,{value:e}){nr(t,e)}};function nr(t,e){t.style.display=e?t[Ur]:"none",t[bl]=!e}const hf=Symbol(""),df=/(^|;)\s*display\s*:/;function pf(t,e,n){const r=t.style,i=Nt(n);let s=!1;if(n&&!i){if(e)if(Nt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Kr(r,l,"")}else for(const o in e)n[o]==null&&Kr(r,o,"");for(const o in n)o==="display"&&(s=!0),Kr(r,o,n[o])}else if(i){if(e!==n){const o=r[hf];o&&(n+=";"+o),r.cssText=n,s=df.test(n)}}else e&&t.removeAttribute("style");Ur in t&&(t[Ur]=s?r.display:"",t[bl]&&(r.display="none"))}const xl=/\s*!important$/;function Kr(t,e,n){if(lt(n))n.forEach(r=>Kr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=gf(t,e);xl.test(n)?t.setProperty(fe(r),n.replace(xl,""),"important"):t[r]=n}}const El=["Webkit","Moz","ms"],ps={};function gf(t,e){const n=ps[e];if(n)return n;let r=me(e);if(r!=="filter"&&r in t)return ps[e]=r;r=Js(r);for(let i=0;i<El.length;i++){const s=El[i]+r;if(s in t)return ps[e]=s}return e}const Sl="http://www.w3.org/1999/xlink";function Pl(t,e,n,r,i,s=ma(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Sl,e.slice(6,e.length)):t.setAttributeNS(Sl,e,n):n==null||s&&!to(n)?t.removeAttribute(e):t.setAttribute(e,s?"":qe(n)?String(n):n)}function Ml(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?_l(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=to(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function mf(t,e,n,r){t.addEventListener(e,n,r)}function wf(t,e,n,r){t.removeEventListener(e,n,r)}const kl=Symbol("_vei");function yf(t,e,n,r,i=null){const s=t[kl]||(t[kl]={}),o=s[e];if(r&&o)o.value=r;else{const[l,u]=_f(e);if(r){const c=s[e]=xf(r,i);mf(t,l,c,u)}else o&&(wf(t,l,o,u),s[e]=void 0)}}const Tl=/(?:Once|Passive|Capture)$/;function _f(t){let e;if(Tl.test(t)){e={};let r;for(;r=t.match(Tl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):fe(t.slice(2)),e]}let gs=0;const vf=Promise.resolve(),bf=()=>gs||(vf.then(()=>gs=0),gs=Date.now());function xf(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Me(Ef(r,n.value),e,5,[r])};return n.value=t,n.attached=bf(),n}function Ef(t,e){if(lt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Cl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Sf=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?ff(t,r,o):e==="style"?pf(t,n,r):vr(e)?Ti(e)||yf(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Pf(t,e,r,o))?(Ml(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pl(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Nt(r))?Ml(t,me(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Pl(t,e,r,o))};function Pf(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Cl(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Cl(e)&&Nt(n)?!1:e in t}const Nl={};/*! #__NO_SIDE_EFFECTS__ */function Mf(t,e,n){const r=Qi(t,e);xr(r)&&Lt(r,e);class i extends ms{constructor(o){super(r,o,n)}}return i.def=r,i}const kf=typeof HTMLElement<"u"?HTMLElement:class{};class ms extends kf{constructor(e,n={},r=Il){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Il?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof ms){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,ko(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let l;if(s&&!lt(s))for(const u in s){const c=s[u];(c===Number||c&&c.type===Number)&&(u in this._props&&(this._props[u]=Qs(this._props[u])),(l||(l=Object.create(null)))[me(u)]=!0)}this._numberProps=l,this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,e(this._def=r,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)mt(this,r)||Object.defineProperty(this,r,{get:()=>Hn(n[r])})}_resolveProps(e){const{props:n}=e,r=lt(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(me))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Nl;const i=me(e);n&&this._numberProps&&this._numberProps[i]&&(r=Qs(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===Nl?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(fe(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(fe(e),n+""):n||this.removeAttribute(fe(e)),s&&s.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),Cf(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=De(this._def,Lt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,xr(o[0])?Lt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),fe(s)!==s&&i(fe(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],l=i.parentNode;if(o)for(const u of o){if(n&&u.nodeType===1){const c=n+"-s",a=document.createTreeWalker(u,1);u.setAttribute(c,"");let f;for(;f=a.nextNode();)f.setAttribute(c,"")}l.insertBefore(u,i)}else for(;i.firstChild;)l.insertBefore(i.firstChild,i);l.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}const Tf=Lt({patchProp:Sf},af);let Rl;function Ll(){return Rl||(Rl=Tc(Tf))}const Cf=(...t)=>{Ll().render(...t)},Il=(...t)=>{const e=Ll().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Rf(r);if(!i)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Nf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Nf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Rf(t){return Nt(t)?document.querySelector(t):t}const Lf={class:"graph-controller__controls-overview"},If={key:0},Of={key:1},$f={key:0},Af={key:1},Ff=((t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n})(Qi({__name:"GraphControls",props:{showHeader:{type:Boolean},showControlsGraph:{type:Boolean},showLatexInfo:{type:Boolean},showControlsEnvironment:{type:Boolean},platformType:{}},setup(t){const e=t,n=[{action:"Create node",desktop:"Double-click",touch:"Double-tap"},{action:"Create link",desktop:"Right-click on node + hold + drag towards target",touch:"Hold + drag"},{action:"Delete node/link",desktop:"Right-click + hold",touch:"Touch + hold"},{action:"Move node",desktop:"Left-click + hold on node + drag",touch:"-"},{action:"Create/Update label",desktop:e.showLatexInfo?"Left-click on label, $$ for $\\LaTeX$":"Left-click on label",touch:e.showLatexInfo?"Tap on label, $$ for $\\LaTeX$":"Tap on label"}],r=[{action:"Pan",desktop:"Left-click on canvas + hold + drag",touch:"Multi-touch"},{action:"Zoom",desktop:"Mouse wheel",touch:"Multi-touch"}],i=["Action","Controls"];let s=e.platformType==="mobile"||e.platformType==="tablet";return(o,l)=>(Xe(),Ye("table",Lf,[Fr(se("thead",null,[se("tr",null,[se("th",null,$e(i[0]),1),se("th",null,$e(i[1]),1)])],512),[[Wr,e.showHeader]]),se("tbody",null,[(Xe(),Ye(pe,null,jo(n,u=>Fr(se("tr",{key:u.action},[se("td",null,$e(u.action),1),Hn(s)?(Xe(),Ye("td",If,$e(u.touch),1)):(Xe(),Ye("td",Of,$e(u.desktop),1))]),[[Wr,e.showControlsGraph]])),64)),(Xe(),Ye(pe,null,jo(r,u=>Fr(se("tr",{key:u.action},[se("td",null,$e(u.action),1),Hn(s)?(Xe(),Ye("td",$f,$e(u.touch),1)):(Xe(),Ye("td",Af,$e(u.desktop),1))]),[[Wr,e.showControlsEnvironment]])),64))])]))}}),[["__scopeId","data-v-8c3d818f"]]);var jf={value:()=>{}};function rr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xr(n)}function Xr(t){this._=t}function Bf(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xr.prototype=rr.prototype={constructor:Xr,on:function(t,e){var n=this._,r=Bf(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Df(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Ol(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ol(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Df(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ol(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ws="http://www.w3.org/1999/xhtml";const $l={svg:"http://www.w3.org/2000/svg",xhtml:ws,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$l.hasOwnProperty(e)?{space:$l[e],local:t}:t}function Vf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ws&&e.documentElement.namespaceURI===ws?e.createElement(t):e.createElementNS(n,t)}}function zf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Al(t){var e=Yr(t);return(e.local?zf:Vf)(e)}function Gf(){}function ys(t){return t==null?Gf:function(){return this.querySelector(t)}}function Hf(t){typeof t!="function"&&(t=ys(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,c,a=0;a<o;++a)(u=s[a])&&(c=t.call(u,u.__data__,a,s))&&("__data__"in u&&(c.__data__=u.__data__),l[a]=c);return new oe(r,this._parents)}function qf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Uf(){return[]}function Fl(t){return t==null?Uf:function(){return this.querySelectorAll(t)}}function Wf(t){return function(){return qf(t.apply(this,arguments))}}function Kf(t){typeof t=="function"?t=Wf(t):t=Fl(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new oe(r,i)}function jl(t){return function(){return this.matches(t)}}function Bl(t){return function(e){return e.matches(t)}}var Xf=Array.prototype.find;function Yf(t){return function(){return Xf.call(this.children,t)}}function Jf(){return this.firstElementChild}function Qf(t){return this.select(t==null?Jf:Yf(typeof t=="function"?t:Bl(t)))}var Zf=Array.prototype.filter;function th(){return Array.from(this.children)}function eh(t){return function(){return Zf.call(this.children,t)}}function nh(t){return this.selectAll(t==null?th:eh(typeof t=="function"?t:Bl(t)))}function rh(t){typeof t!="function"&&(t=jl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new oe(r,this._parents)}function Dl(t){return new Array(t.length)}function ih(){return new oe(this._enter||this._groups.map(Dl),this._parents)}function Jr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Jr.prototype={constructor:Jr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sh(t){return function(){return t}}function oh(t,e,n,r,i,s){for(var o=0,l,u=e.length,c=s.length;o<c;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Jr(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function lh(t,e,n,r,i,s,o){var l,u,c=new Map,a=e.length,f=s.length,h=new Array(a),p;for(l=0;l<a;++l)(u=e[l])&&(h[l]=p=o.call(u,u.__data__,l,e)+"",c.has(p)?i[l]=u:c.set(p,u));for(l=0;l<f;++l)p=o.call(t,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):n[l]=new Jr(t,s[l]);for(l=0;l<a;++l)(u=e[l])&&c.get(h[l])===u&&(i[l]=u)}function uh(t){return t.__data__}function ah(t,e){if(!arguments.length)return Array.from(this,uh);var n=e?lh:oh,r=this._parents,i=this._groups;typeof t!="function"&&(t=sh(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var a=r[c],f=i[c],h=f.length,p=ch(t.call(a,a&&a.__data__,c,r)),w=p.length,v=l[c]=new Array(w),y=o[c]=new Array(w),d=u[c]=new Array(h);n(a,f,v,y,d,p,e);for(var S=0,N=0,m,P;S<w;++S)if(m=v[S]){for(S>=N&&(N=S+1);!(P=y[N])&&++N<w;);m._next=P||null}}return o=new oe(o,r),o._enter=l,o._exit=u,o}function ch(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fh(){return new oe(this._exit||this._groups.map(Dl),this._parents)}function hh(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function dh(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var c=n[u],a=r[u],f=c.length,h=l[u]=new Array(f),p,w=0;w<f;++w)(p=c[w]||a[w])&&(h[w]=p);for(;u<i;++u)l[u]=n[u];return new oe(l,this._parents)}function ph(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function gh(t){t||(t=mh);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),c,a=0;a<l;++a)(c=o[a])&&(u[a]=c);u.sort(e)}return new oe(i,this._parents).order()}function mh(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wh(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yh(){return Array.from(this)}function _h(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function vh(){let t=0;for(const e of this)++t;return t}function bh(){return!this.node()}function xh(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function Eh(t){return function(){this.removeAttribute(t)}}function Sh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ph(t,e){return function(){this.setAttribute(t,e)}}function Mh(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kh(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Th(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ch(t,e){var n=Yr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Sh:Eh:typeof e=="function"?n.local?Th:kh:n.local?Mh:Ph)(n,e))}function Vl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nh(t){return function(){this.style.removeProperty(t)}}function Rh(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Lh(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ih(t,e,n){return arguments.length>1?this.each((e==null?Nh:typeof e=="function"?Lh:Rh)(t,e,n??"")):Tn(this.node(),t)}function Tn(t,e){return t.style.getPropertyValue(e)||Vl(t).getComputedStyle(t,null).getPropertyValue(e)}function Oh(t){return function(){delete this[t]}}function $h(t,e){return function(){this[t]=e}}function Ah(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fh(t,e){return arguments.length>1?this.each((e==null?Oh:typeof e=="function"?Ah:$h)(t,e)):this.node()[t]}function zl(t){return t.trim().split(/^|\s+/)}function _s(t){return t.classList||new Gl(t)}function Gl(t){this._node=t,this._names=zl(t.getAttribute("class")||"")}Gl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Hl(t,e){for(var n=_s(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ql(t,e){for(var n=_s(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jh(t){return function(){Hl(this,t)}}function Bh(t){return function(){ql(this,t)}}function Dh(t,e){return function(){(e.apply(this,arguments)?Hl:ql)(this,t)}}function Vh(t,e){var n=zl(t+"");if(arguments.length<2){for(var r=_s(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Dh:e?jh:Bh)(n,e))}function zh(){this.textContent=""}function Gh(t){return function(){this.textContent=t}}function Hh(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qh(t){return arguments.length?this.each(t==null?zh:(typeof t=="function"?Hh:Gh)(t)):this.node().textContent}function Uh(){this.innerHTML=""}function Wh(t){return function(){this.innerHTML=t}}function Kh(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Xh(t){return arguments.length?this.each(t==null?Uh:(typeof t=="function"?Kh:Wh)(t)):this.node().innerHTML}function Yh(){this.nextSibling&&this.parentNode.appendChild(this)}function Jh(){return this.each(Yh)}function Qh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zh(){return this.each(Qh)}function td(t){var e=typeof t=="function"?t:Al(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ed(){return null}function nd(t,e){var n=typeof t=="function"?t:Al(t),r=e==null?ed:typeof e=="function"?e:ys(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rd(){var t=this.parentNode;t&&t.removeChild(this)}function id(){return this.each(rd)}function sd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function od(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ld(t){return this.select(t?od:sd)}function ud(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ad(t){return function(e){t.call(this,e,this.__data__)}}function cd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function fd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function hd(t,e,n){return function(){var r=this.__on,i,s=ad(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function dd(t,e,n){var r=cd(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,a;u<c;++u)for(i=0,a=l[u];i<s;++i)if((o=r[i]).type===a.type&&o.name===a.name)return a.value}return}for(l=e?hd:fd,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Ul(t,e,n){var r=Vl(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function pd(t,e){return function(){return Ul(this,t,e)}}function gd(t,e){return function(){return Ul(this,t,e.apply(this,arguments))}}function md(t,e){return this.each((typeof e=="function"?gd:pd)(t,e))}function*wd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Wl=[null];function oe(t,e){this._groups=t,this._parents=e}function ir(){return new oe([[document.documentElement]],Wl)}function yd(){return this}oe.prototype=ir.prototype={constructor:oe,select:Hf,selectAll:Kf,selectChild:Qf,selectChildren:nh,filter:rh,data:ah,enter:ih,exit:fh,join:hh,merge:dh,selection:yd,order:ph,sort:gh,call:wh,nodes:yh,node:_h,size:vh,empty:bh,each:xh,attr:Ch,style:Ih,property:Fh,classed:Vh,text:qh,html:Xh,raise:Jh,lower:Zh,append:td,insert:nd,remove:id,clone:ld,datum:ud,on:dd,dispatch:md,[Symbol.iterator]:wd};function Tt(t){return typeof t=="string"?new oe([[document.querySelector(t)]],[document.documentElement]):new oe([[t]],Wl)}function Kl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Zt(t,e){if(t=Kl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function _d(t,e){return t.target&&(t=Kl(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Zt(n,e))}const vd={passive:!1},sr={capture:!0,passive:!1};function vs(t){t.stopImmediatePropagation()}function Cn(t){t.preventDefault(),t.stopImmediatePropagation()}function Xl(t){var e=t.document.documentElement,n=Tt(t).on("dragstart.drag",Cn,sr);"onselectstart"in e?n.on("selectstart.drag",Cn,sr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Yl(t,e){var n=t.document.documentElement,r=Tt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Cn,sr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qr=t=>()=>t;function bs(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:u,dy:c,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:a}})}bs.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function bd(t){return!t.ctrlKey&&!t.button}function xd(){return this.parentNode}function Ed(t,e){return e??{x:t.x,y:t.y}}function Sd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pd(){var t=bd,e=xd,n=Ed,r=Sd,i={},s=rr("start","drag","end"),o=0,l,u,c,a,f=0;function h(m){m.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",d,vd).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(m,P){if(!(a||!t.call(this,m,P))){var $=N(this,e.call(this,m,P),m,P,"mouse");$&&(Tt(m.view).on("mousemove.drag",w,sr).on("mouseup.drag",v,sr),Xl(m.view),vs(m),c=!1,l=m.clientX,u=m.clientY,$("start",m))}}function w(m){if(Cn(m),!c){var P=m.clientX-l,$=m.clientY-u;c=P*P+$*$>f}i.mouse("drag",m)}function v(m){Tt(m.view).on("mousemove.drag mouseup.drag",null),Yl(m.view,c),Cn(m),i.mouse("end",m)}function y(m,P){if(t.call(this,m,P)){var $=m.changedTouches,B=e.call(this,m,P),q=$.length,Z,j;for(Z=0;Z<q;++Z)(j=N(this,B,m,P,$[Z].identifier,$[Z]))&&(vs(m),j("start",m,$[Z]))}}function d(m){var P=m.changedTouches,$=P.length,B,q;for(B=0;B<$;++B)(q=i[P[B].identifier])&&(Cn(m),q("drag",m,P[B]))}function S(m){var P=m.changedTouches,$=P.length,B,q;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),B=0;B<$;++B)(q=i[P[B].identifier])&&(vs(m),q("end",m,P[B]))}function N(m,P,$,B,q,Z){var j=s.copy(),Q=Zt(Z||$,P),at,U,E;if((E=n.call(m,new bs("beforestart",{sourceEvent:$,target:h,identifier:q,active:o,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:j}),B))!=null)return at=E.x-Q[0]||0,U=E.y-Q[1]||0,function z(T,O,L){var X=Q,J;switch(T){case"start":i[q]=z,J=o++;break;case"end":delete i[q],--o;case"drag":Q=Zt(L||O,P),J=o;break}j.call(T,m,new bs(T,{sourceEvent:O,subject:E,target:h,identifier:q,active:J,x:Q[0]+at,y:Q[1]+U,dx:Q[0]-X[0],dy:Q[1]-X[1],dispatch:j}),B)}}return h.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Qr(!!m),h):t},h.container=function(m){return arguments.length?(e=typeof m=="function"?m:Qr(m),h):e},h.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Qr(m),h):n},h.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Qr(!!m),h):r},h.on=function(){var m=s.on.apply(s,arguments);return m===s?h:m},h.clickDistance=function(m){return arguments.length?(f=(m=+m)*m,h):Math.sqrt(f)},h}function xs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function or(){}var lr=.7,Zr=1/lr,Nn="\\s*([+-]?\\d+)\\s*",ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Md=/^#([0-9a-f]{3,8})$/,kd=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),Td=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),Cd=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${ur}\\)$`),Nd=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${ur}\\)$`),Rd=new RegExp(`^hsl\\(${ur},${Ne},${Ne}\\)$`),Ld=new RegExp(`^hsla\\(${ur},${Ne},${Ne},${ur}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xs(or,ln,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zl,formatHex:Zl,formatHex8:Id,formatHsl:Od,formatRgb:tu,toString:tu});function Zl(){return this.rgb().formatHex()}function Id(){return this.rgb().formatHex8()}function Od(){return su(this).formatHsl()}function tu(){return this.rgb().formatRgb()}function ln(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Md.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eu(e):n===3?new te(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kd.exec(t))?new te(e[1],e[2],e[3],1):(e=Td.exec(t))?new te(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cd.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=Nd.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rd.exec(t))?iu(e[1],e[2]/100,e[3]/100,1):(e=Ld.exec(t))?iu(e[1],e[2]/100,e[3]/100,e[4]):Ql.hasOwnProperty(t)?eu(Ql[t]):t==="transparent"?new te(NaN,NaN,NaN,0):null}function eu(t){return new te(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,n,r){return r<=0&&(t=e=n=NaN),new te(t,e,n,r)}function $d(t){return t instanceof or||(t=ln(t)),t?(t=t.rgb(),new te(t.r,t.g,t.b,t.opacity)):new te}function Es(t,e,n,r){return arguments.length===1?$d(t):new te(t,e,n,r??1)}function te(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xs(te,Es,Jl(or,{brighter(t){return t=t==null?Zr:Math.pow(Zr,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lr:Math.pow(lr,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new te(un(this.r),un(this.g),un(this.b),ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nu,formatHex:nu,formatHex8:Ad,formatRgb:ru,toString:ru}));function nu(){return`#${an(this.r)}${an(this.g)}${an(this.b)}`}function Ad(){return`#${an(this.r)}${an(this.g)}${an(this.b)}${an((isNaN(this.opacity)?1:this.opacity)*255)}`}function ru(){const t=ei(this.opacity);return`${t===1?"rgb(":"rgba("}${un(this.r)}, ${un(this.g)}, ${un(this.b)}${t===1?")":`, ${t})`}`}function ei(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function un(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function an(t){return t=un(t),(t<16?"0":"")+t.toString(16)}function iu(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ye(t,e,n,r)}function su(t){if(t instanceof ye)return new ye(t.h,t.s,t.l,t.opacity);if(t instanceof or||(t=ln(t)),!t)return new ye;if(t instanceof ye)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new ye(o,l,u,t.opacity)}function Fd(t,e,n,r){return arguments.length===1?su(t):new ye(t,e,n,r??1)}function ye(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xs(ye,Fd,Jl(or,{brighter(t){return t=t==null?Zr:Math.pow(Zr,t),new ye(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lr:Math.pow(lr,t),new ye(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new te(Ss(t>=240?t-240:t+120,i,r),Ss(t,i,r),Ss(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ye(ou(this.h),ni(this.s),ni(this.l),ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ei(this.opacity);return`${t===1?"hsl(":"hsla("}${ou(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ou(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function Ss(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ps=t=>()=>t;function jd(t,e){return function(n){return t+n*e}}function Bd(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dd(t){return(t=+t)==1?lu:function(e,n){return n-e?Bd(e,n,t):Ps(isNaN(e)?n:e)}}function lu(t,e){var n=e-t;return n?jd(t,n):Ps(isNaN(t)?e:t)}const ri=function t(e){var n=Dd(e);function r(i,s){var o=n((i=Es(i)).r,(s=Es(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),c=lu(i.opacity,s.opacity);return function(a){return i.r=o(a),i.g=l(a),i.b=u(a),i.opacity=c(a),i+""}}return r.gamma=t,r}(1);function Vd(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function zd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ts(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Hd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Re(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qd(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ts(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ks=new RegExp(Ms.source,"g");function Ud(t){return function(){return t}}function Wd(t){return function(e){return t(e)+""}}function uu(t,e){var n=Ms.lastIndex=ks.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=Ms.exec(t))&&(i=ks.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Re(r,i)})),n=ks.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Wd(u[0].x):Ud(e):(e=u.length,function(c){for(var a=0,f;a<e;++a)l[(f=u[a]).i]=f.x(c);return l.join("")})}function Ts(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ps(e):(n==="number"?Re:n==="string"?(r=ln(e))?(e=r,ri):uu:e instanceof ln?ri:e instanceof Date?Hd:zd(e)?Vd:Array.isArray(e)?Gd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qd:Re)(t,e)}var au=180/Math.PI,Cs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cu(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*au,skewX:Math.atan(u)*au,scaleX:o,scaleY:l}}var ii;function Kd(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Cs:cu(e.a,e.b,e.c,e.d,e.e,e.f)}function Xd(t){return t==null||(ii||(ii=document.createElementNS("http://www.w3.org/2000/svg","g")),ii.setAttribute("transform",t),!(t=ii.transform.baseVal.consolidate()))?Cs:(t=t.matrix,cu(t.a,t.b,t.c,t.d,t.e,t.f))}function fu(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,a,f,h,p,w){if(c!==f||a!==h){var v=p.push("translate(",null,e,null,n);w.push({i:v-4,x:Re(c,f)},{i:v-2,x:Re(a,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function o(c,a,f,h){c!==a?(c-a>180?a+=360:a-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Re(c,a)})):a&&f.push(i(f)+"rotate("+a+r)}function l(c,a,f,h){c!==a?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Re(c,a)}):a&&f.push(i(f)+"skewX("+a+r)}function u(c,a,f,h,p,w){if(c!==f||a!==h){var v=p.push(i(p)+"scale(",null,",",null,")");w.push({i:v-4,x:Re(c,f)},{i:v-2,x:Re(a,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(c,a){var f=[],h=[];return c=t(c),a=t(a),s(c.translateX,c.translateY,a.translateX,a.translateY,f,h),o(c.rotate,a.rotate,f,h),l(c.skewX,a.skewX,f,h),u(c.scaleX,c.scaleY,a.scaleX,a.scaleY,f,h),c=a=null,function(p){for(var w=-1,v=h.length,y;++w<v;)f[(y=h[w]).i]=y.x(p);return f.join("")}}}var Yd=fu(Kd,"px, ","px)","deg)"),Jd=fu(Xd,", ",")",")"),Qd=1e-12;function hu(t){return((t=Math.exp(t))+1/t)/2}function Zd(t){return((t=Math.exp(t))-1/t)/2}function tp(t){return((t=Math.exp(2*t))-1)/(t+1)}const ep=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],c=s[2],a=o[0],f=o[1],h=o[2],p=a-l,w=f-u,v=p*p+w*w,y,d;if(v<Qd)d=Math.log(h/c)/e,y=function(B){return[l+B*p,u+B*w,c*Math.exp(e*B*d)]};else{var S=Math.sqrt(v),N=(h*h-c*c+r*v)/(2*c*n*S),m=(h*h-c*c-r*v)/(2*h*n*S),P=Math.log(Math.sqrt(N*N+1)-N),$=Math.log(Math.sqrt(m*m+1)-m);d=($-P)/e,y=function(B){var q=B*d,Z=hu(P),j=c/(n*S)*(Z*tp(e*q+P)-Zd(P));return[l+j*p,u+j*w,c*Z/hu(e*q+P)]}}return y.duration=d*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);var Rn=0,ar=0,cr=0,du=1e3,si,fr,oi=0,cn=0,li=0,hr=typeof performance=="object"&&performance.now?performance:Date,pu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ns(){return cn||(pu(np),cn=hr.now()+li)}function np(){cn=0}function ui(){this._call=this._time=this._next=null}ui.prototype=Rs.prototype={constructor:ui,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ns():+n)+(e==null?0:+e),!this._next&&fr!==this&&(fr?fr._next=this:si=this,fr=this),this._call=t,this._time=n,Ls()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ls())}};function Rs(t,e,n){var r=new ui;return r.restart(t,e,n),r}function rp(){Ns(),++Rn;for(var t=si,e;t;)(e=cn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rn}function gu(){cn=(oi=hr.now())+li,Rn=ar=0;try{rp()}finally{Rn=0,sp(),cn=0}}function ip(){var t=hr.now(),e=t-oi;e>du&&(li-=e,oi=t)}function sp(){for(var t,e=si,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:si=n);fr=t,Ls(r)}function Ls(t){if(!Rn){ar&&(ar=clearTimeout(ar));var e=t-cn;e>24?(t<1/0&&(ar=setTimeout(gu,t-hr.now()-li)),cr&&(cr=clearInterval(cr))):(cr||(oi=hr.now(),cr=setInterval(ip,du)),Rn=1,pu(gu))}}function mu(t,e,n){var r=new ui;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var op=rr("start","end","cancel","interrupt"),lp=[],wu=0,yu=1,Is=2,ai=3,_u=4,Os=5,ci=6;function fi(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;up(t,n,{name:e,index:r,group:i,on:op,tween:lp,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:wu})}function $s(t,e){var n=_e(t,e);if(n.state>wu)throw new Error("too late; already scheduled");return n}function Le(t,e){var n=_e(t,e);if(n.state>ai)throw new Error("too late; already running");return n}function _e(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function up(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Rs(s,0,n.time);function s(c){n.state=yu,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var a,f,h,p;if(n.state!==yu)return u();for(a in r)if(p=r[a],p.name===n.name){if(p.state===ai)return mu(o);p.state===_u?(p.state=ci,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[a]):+a<e&&(p.state=ci,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[a])}if(mu(function(){n.state===ai&&(n.state=_u,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Is,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Is){for(n.state=ai,i=new Array(h=n.tween.length),a=0,f=-1;a<h;++a)(p=n.tween[a].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function l(c){for(var a=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Os,1),f=-1,h=i.length;++f<h;)i[f].call(t,a);n.state===Os&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ci,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function hi(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Is&&r.state<Os,r.state=ci,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ap(t){return this.each(function(){hi(this,t)})}function cp(t,e){var n,r;return function(){var i=Le(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function fp(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Le(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=l;break}u===c&&i.push(l)}s.tween=i}}function hp(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=_e(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?cp:fp)(n,t,e))}function As(t,e,n){var r=t._id;return t.each(function(){var i=Le(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return _e(i,r).value[e]}}function vu(t,e){var n;return(typeof e=="number"?Re:e instanceof ln?ri:(n=ln(e))?(e=n,ri):uu)(t,e)}function dp(t){return function(){this.removeAttribute(t)}}function pp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gp(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function mp(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function wp(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function yp(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function _p(t,e){var n=Yr(t),r=n==="transform"?Jd:vu;return this.attrTween(t,typeof e=="function"?(n.local?yp:wp)(n,r,As(this,"attr."+t,e)):e==null?(n.local?pp:dp)(n):(n.local?mp:gp)(n,r,e))}function vp(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function bp(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xp(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bp(t,s)),n}return i._value=e,i}function Ep(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&vp(t,s)),n}return i._value=e,i}function Sp(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Yr(t);return this.tween(n,(r.local?xp:Ep)(r,e))}function Pp(t,e){return function(){$s(this,t).delay=+e.apply(this,arguments)}}function Mp(t,e){return e=+e,function(){$s(this,t).delay=e}}function kp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Pp:Mp)(e,t)):_e(this.node(),e).delay}function Tp(t,e){return function(){Le(this,t).duration=+e.apply(this,arguments)}}function Cp(t,e){return e=+e,function(){Le(this,t).duration=e}}function Np(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tp:Cp)(e,t)):_e(this.node(),e).duration}function Rp(t,e){if(typeof e!="function")throw new Error;return function(){Le(this,t).ease=e}}function Lp(t){var e=this._id;return arguments.length?this.each(Rp(e,t)):_e(this.node(),e).ease}function Ip(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Le(this,t).ease=n}}function Op(t){if(typeof t!="function")throw new Error;return this.each(Ip(this._id,t))}function $p(t){typeof t!="function"&&(t=jl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new ze(r,this._parents,this._name,this._id)}function Ap(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],c=n[l],a=u.length,f=o[l]=new Array(a),h,p=0;p<a;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<r;++l)o[l]=e[l];return new ze(o,this._parents,this._name,this._id)}function Fp(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jp(t,e,n){var r,i,s=Fp(e)?$s:Le;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function Bp(t,e){var n=this._id;return arguments.length<2?_e(this.node(),n).on.on(t):this.each(jp(n,t,e))}function Dp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vp(){return this.on("end.remove",Dp(this._id))}function zp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ys(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,c=s[o]=new Array(u),a,f,h=0;h<u;++h)(a=l[h])&&(f=t.call(a,a.__data__,h,l))&&("__data__"in a&&(f.__data__=a.__data__),c[h]=f,fi(c[h],e,n,h,c,_e(a,n)));return new ze(s,this._parents,e,n)}function Gp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fl(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],c=u.length,a,f=0;f<c;++f)if(a=u[f]){for(var h=t.call(a,a.__data__,f,u),p,w=_e(a,n),v=0,y=h.length;v<y;++v)(p=h[v])&&fi(p,e,n,v,h,w);s.push(h),o.push(a)}return new ze(s,o,e,n)}var Hp=ir.prototype.constructor;function qp(){return new Hp(this._groups,this._parents)}function Up(t,e){var n,r,i;return function(){var s=Tn(this,t),o=(this.style.removeProperty(t),Tn(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function bu(t){return function(){this.style.removeProperty(t)}}function Wp(t,e,n){var r,i=n+"",s;return function(){var o=Tn(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Kp(t,e,n){var r,i,s;return function(){var o=Tn(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Tn(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function Xp(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=Le(this,t),c=u.on,a=u.value[s]==null?l||(l=bu(e)):void 0;(c!==n||i!==a)&&(r=(n=c).copy()).on(o,i=a),u.on=r}}function Yp(t,e,n){var r=(t+="")=="transform"?Yd:vu;return e==null?this.styleTween(t,Up(t,r)).on("end.style."+t,bu(t)):typeof e=="function"?this.styleTween(t,Kp(t,r,As(this,"style."+t,e))).each(Xp(this._id,t)):this.styleTween(t,Wp(t,r,e),n).on("end.style."+t,null)}function Jp(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Qp(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Jp(t,o,n)),r}return s._value=e,s}function Zp(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Qp(t,e,n??""))}function tg(t){return function(){this.textContent=t}}function eg(t){return function(){var e=t(this);this.textContent=e??""}}function ng(t){return this.tween("text",typeof t=="function"?eg(As(this,"text",t)):tg(t==null?"":t+""))}function rg(t){return function(e){this.textContent=t.call(this,e)}}function ig(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&rg(i)),e}return r._value=t,r}function sg(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ig(t))}function og(){for(var t=this._name,e=this._id,n=xu(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var a=_e(u,e);fi(u,t,n,c,o,{time:a.time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease})}return new ze(r,this._parents,t,n)}function lg(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var c=Le(this,r),a=c.on;a!==t&&(e=(t=a).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),i===0&&s()})}var ug=0;function ze(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xu(){return++ug}var Ge=ir.prototype;ze.prototype={constructor:ze,select:zp,selectAll:Gp,selectChild:Ge.selectChild,selectChildren:Ge.selectChildren,filter:$p,merge:Ap,selection:qp,transition:og,call:Ge.call,nodes:Ge.nodes,node:Ge.node,size:Ge.size,empty:Ge.empty,each:Ge.each,on:Bp,attr:_p,attrTween:Sp,style:Yp,styleTween:Zp,text:ng,textTween:sg,remove:Vp,tween:hp,delay:kp,duration:Np,ease:Lp,easeVarying:Op,end:lg,[Symbol.iterator]:Ge[Symbol.iterator]};const Eu=t=>+t;function ag(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cg={time:null,delay:0,duration:250,ease:ag};function fg(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function hg(t){var e,n;t instanceof ze?(e=t._id,t=t._name):(e=xu(),(n=cg).time=Ns(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&fi(u,t,e,c,o,n||fg(u,e));return new ze(r,this._parents,t,e)}ir.prototype.interrupt=ap,ir.prototype.transition=hg;const Fs=Math.PI,js=2*Fs,fn=1e-6,dg=js-fn;function Su(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pg(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Su;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gg{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Su:pg(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-e,c=i-n,a=o-e,f=l-n,h=a*a+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>fn)if(!(Math.abs(f*u-c*a)>fn)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,w=i-l,v=u*u+c*c,y=p*p+w*w,d=Math.sqrt(v),S=Math.sqrt(h),N=s*Math.tan((Fs-Math.acos((v+h-y)/(2*d*S)))/2),m=N/S,P=N/d;Math.abs(m-1)>fn&&this._append`L${e+m*a},${n+m*f}`,this._append`A${s},${s},0,0,${+(f*p>a*w)},${this._x1=e+P*u},${this._y1=n+P*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),c=e+l,a=n+u,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${a}`:(Math.abs(this._x1-c)>fn||Math.abs(this._y1-a)>fn)&&this._append`L${c},${a}`,r&&(h<0&&(h=h%js+js),h>dg?this._append`A${r},${r},0,1,${f},${e-l},${n-u}A${r},${r},0,1,${f},${this._x1=c},${this._y1=a}`:h>fn&&this._append`A${r},${r},0,${+(h>=Fs)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mg(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Pu(this.cover(e,n),e,n,t)}function Pu(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},l=t._x0,u=t._y0,c=t._x1,a=t._y1,f,h,p,w,v,y,d,S;if(!s)return t._root=o,t;for(;s.length;)if((v=e>=(f=(l+c)/2))?l=f:c=f,(y=n>=(h=(u+a)/2))?u=h:a=h,i=s,!(s=s[d=y<<1|v]))return i[d]=o,t;if(p=+t._x.call(null,s.data),w=+t._y.call(null,s.data),e===p&&n===w)return o.next=s,i?i[d]=o:t._root=o,t;do i=i?i[d]=new Array(4):t._root=new Array(4),(v=e>=(f=(l+c)/2))?l=f:c=f,(y=n>=(h=(u+a)/2))?u=h:a=h;while((d=y<<1|v)===(S=(w>=h)<<1|p>=f));return i[S]=s,i[d]=o,t}function wg(t){var e,n,r=t.length,i,s,o=new Array(r),l=new Array(r),u=1/0,c=1/0,a=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,l[n]=s,i<u&&(u=i),i>a&&(a=i),s<c&&(c=s),s>f&&(f=s));if(u>a||c>f)return this;for(this.cover(u,c).cover(a,f),n=0;n<r;++n)Pu(this,o[n],l[n],t[n]);return this}function yg(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,l=this._root,u,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,u=new Array(4),u[c]=l,l=u,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function _g(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function vg(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function bg(t,e,n){var r,i=this._x0,s=this._y0,o,l,u,c,a=this._x1,f=this._y1,h=[],p=this._root,w,v;for(p&&h.push(new Gt(p,i,s,a,f)),n==null?n=1/0:(i=t-n,s=e-n,a=t+n,f=e+n,n*=n);w=h.pop();)if(!(!(p=w.node)||(o=w.x0)>a||(l=w.y0)>f||(u=w.x1)<i||(c=w.y1)<s))if(p.length){var y=(o+u)/2,d=(l+c)/2;h.push(new Gt(p[3],y,d,u,c),new Gt(p[2],o,d,y,c),new Gt(p[1],y,l,u,d),new Gt(p[0],o,l,y,d)),(v=(e>=d)<<1|t>=y)&&(w=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=w)}else{var S=t-+this._x.call(null,p.data),N=e-+this._y.call(null,p.data),m=S*S+N*N;if(m<n){var P=Math.sqrt(n=m);i=t-P,s=e-P,a=t+P,f=e+P,r=p.data}}return r}function xg(t){if(isNaN(a=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,l=this._y0,u=this._x1,c=this._y1,a,f,h,p,w,v,y,d;if(!n)return this;if(n.length)for(;;){if((w=a>=(h=(o+u)/2))?o=h:u=h,(v=f>=(p=(l+c)/2))?l=p:c=p,e=n,!(n=n[y=v<<1|w]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,d=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[y]=s:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[d]=n:this._root=n),this):(this._root=s,this)}function Eg(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Sg(){return this._root}function Pg(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Mg(t){var e=[],n,r=this._root,i,s,o,l,u;for(r&&e.push(new Gt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,l=n.x1,u=n.y1)&&r.length){var c=(s+l)/2,a=(o+u)/2;(i=r[3])&&e.push(new Gt(i,c,a,l,u)),(i=r[2])&&e.push(new Gt(i,s,a,c,u)),(i=r[1])&&e.push(new Gt(i,c,o,l,a)),(i=r[0])&&e.push(new Gt(i,s,o,c,a))}return this}function kg(t){var e=[],n=[],r;for(this._root&&e.push(new Gt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,l=r.y0,u=r.x1,c=r.y1,a=(o+u)/2,f=(l+c)/2;(s=i[0])&&e.push(new Gt(s,o,l,a,f)),(s=i[1])&&e.push(new Gt(s,a,l,u,f)),(s=i[2])&&e.push(new Gt(s,o,f,a,c)),(s=i[3])&&e.push(new Gt(s,a,f,u,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Tg(t){return t[0]}function Cg(t){return arguments.length?(this._x=t,this):this._x}function Ng(t){return t[1]}function Rg(t){return arguments.length?(this._y=t,this):this._y}function Bs(t,e,n){var r=new Ds(e??Tg,n??Ng,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Ds(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Mu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ht=Bs.prototype=Ds.prototype;Ht.copy=function(){var t=new Ds(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Mu(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Mu(r));return t},Ht.add=mg,Ht.addAll=wg,Ht.cover=yg,Ht.data=_g,Ht.extent=vg,Ht.find=bg,Ht.remove=xg,Ht.removeAll=Eg,Ht.root=Sg,Ht.size=Pg,Ht.visit=Mg,Ht.visitAfter=kg,Ht.x=Cg,Ht.y=Rg;function qt(t){return function(){return t}}function Qe(t){return(t()-.5)*1e-6}function Lg(t){return t.x+t.vx}function Ig(t){return t.y+t.vy}function Og(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=qt(t==null?1:+t));function o(){for(var c,a=e.length,f,h,p,w,v,y,d=0;d<s;++d)for(f=Bs(e,Lg,Ig).visitAfter(l),c=0;c<a;++c)h=e[c],v=n[h.index],y=v*v,p=h.x+h.vx,w=h.y+h.vy,f.visit(S);function S(N,m,P,$,B){var q=N.data,Z=N.r,j=v+Z;if(q){if(q.index>h.index){var Q=p-q.x-q.vx,at=w-q.y-q.vy,U=Q*Q+at*at;U<j*j&&(Q===0&&(Q=Qe(r),U+=Q*Q),at===0&&(at=Qe(r),U+=at*at),U=(j-(U=Math.sqrt(U)))/U*i,h.vx+=(Q*=U)*(j=(Z*=Z)/(y+Z)),h.vy+=(at*=U)*j,q.vx-=Q*(j=1-j),q.vy-=at*j)}return}return m>p+j||$<p-j||P>w+j||B<w-j}}function l(c){if(c.data)return c.r=n[c.data.index];for(var a=c.r=0;a<4;++a)c[a]&&c[a].r>c.r&&(c.r=c[a].r)}function u(){if(e){var c,a=e.length,f;for(n=new Array(a),c=0;c<a;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,a){e=c,r=a,u()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),u(),o):t},o}function $g(t){return t.index}function ku(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Ag(t){var e=$g,n=f,r,i=qt(30),s,o,l,u,c,a=1;t==null&&(t=[]);function f(y){return 1/Math.min(l[y.source.index],l[y.target.index])}function h(y){for(var d=0,S=t.length;d<a;++d)for(var N=0,m,P,$,B,q,Z,j;N<S;++N)m=t[N],P=m.source,$=m.target,B=$.x+$.vx-P.x-P.vx||Qe(c),q=$.y+$.vy-P.y-P.vy||Qe(c),Z=Math.sqrt(B*B+q*q),Z=(Z-s[N])/Z*y*r[N],B*=Z,q*=Z,$.vx-=B*(j=u[N]),$.vy-=q*j,P.vx+=B*(j=1-j),P.vy+=q*j}function p(){if(o){var y,d=o.length,S=t.length,N=new Map(o.map((P,$)=>[e(P,$,o),P])),m;for(y=0,l=new Array(d);y<S;++y)m=t[y],m.index=y,typeof m.source!="object"&&(m.source=ku(N,m.source)),typeof m.target!="object"&&(m.target=ku(N,m.target)),l[m.source.index]=(l[m.source.index]||0)+1,l[m.target.index]=(l[m.target.index]||0)+1;for(y=0,u=new Array(S);y<S;++y)m=t[y],u[y]=l[m.source.index]/(l[m.source.index]+l[m.target.index]);r=new Array(S),w(),s=new Array(S),v()}}function w(){if(o)for(var y=0,d=t.length;y<d;++y)r[y]=+n(t[y],y,t)}function v(){if(o)for(var y=0,d=t.length;y<d;++y)s[y]=+i(t[y],y,t)}return h.initialize=function(y,d){o=y,c=d,p()},h.links=function(y){return arguments.length?(t=y,p(),h):t},h.id=function(y){return arguments.length?(e=y,h):e},h.iterations=function(y){return arguments.length?(a=+y,h):a},h.strength=function(y){return arguments.length?(n=typeof y=="function"?y:qt(+y),w(),h):n},h.distance=function(y){return arguments.length?(i=typeof y=="function"?y:qt(+y),v(),h):i},h}const Fg=1664525,jg=1013904223,Tu=4294967296;function Bg(){let t=1;return()=>(t=(Fg*t+jg)%Tu)/Tu}function Dg(t){return t.x}function Vg(t){return t.y}var zg=10,Gg=Math.PI*(3-Math.sqrt(5));function Hg(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,l=new Map,u=Rs(f),c=rr("tick","end"),a=Bg();t==null&&(t=[]);function f(){h(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function h(v){var y,d=t.length,S;v===void 0&&(v=1);for(var N=0;N<v;++N)for(n+=(s-n)*i,l.forEach(function(m){m(n)}),y=0;y<d;++y)S=t[y],S.fx==null?S.x+=S.vx*=o:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=o:(S.y=S.fy,S.vy=0);return e}function p(){for(var v=0,y=t.length,d;v<y;++v){if(d=t[v],d.index=v,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var S=zg*Math.sqrt(.5+v),N=v*Gg;d.x=S*Math.cos(N),d.y=S*Math.sin(N)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function w(v){return v.initialize&&v.initialize(t,a),v}return p(),e={tick:h,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(v){return arguments.length?(t=v,p(),l.forEach(w),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(s=+v,e):s},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(a=v,l.forEach(w),e):a},force:function(v,y){return arguments.length>1?(y==null?l.delete(v):l.set(v,w(y)),e):l.get(v)},find:function(v,y,d){var S=0,N=t.length,m,P,$,B,q;for(d==null?d=1/0:d*=d,S=0;S<N;++S)B=t[S],m=v-B.x,P=y-B.y,$=m*m+P*P,$<d&&(q=B,d=$);return q},on:function(v,y){return arguments.length>1?(c.on(v,y),e):c.on(v)}}}function qg(){var t,e,n,r,i=qt(-30),s,o=1,l=1/0,u=.81;function c(p){var w,v=t.length,y=Bs(t,Dg,Vg).visitAfter(f);for(r=p,w=0;w<v;++w)e=t[w],y.visit(h)}function a(){if(t){var p,w=t.length,v;for(s=new Array(w),p=0;p<w;++p)v=t[p],s[v.index]=+i(v,p,t)}}function f(p){var w=0,v,y,d=0,S,N,m;if(p.length){for(S=N=m=0;m<4;++m)(v=p[m])&&(y=Math.abs(v.value))&&(w+=v.value,d+=y,S+=y*v.x,N+=y*v.y);p.x=S/d,p.y=N/d}else{v=p,v.x=v.data.x,v.y=v.data.y;do w+=s[v.data.index];while(v=v.next)}p.value=w}function h(p,w,v,y){if(!p.value)return!0;var d=p.x-e.x,S=p.y-e.y,N=y-w,m=d*d+S*S;if(N*N/u<m)return m<l&&(d===0&&(d=Qe(n),m+=d*d),S===0&&(S=Qe(n),m+=S*S),m<o&&(m=Math.sqrt(o*m)),e.vx+=d*p.value*r/m,e.vy+=S*p.value*r/m),!0;if(p.length||m>=l)return;(p.data!==e||p.next)&&(d===0&&(d=Qe(n),m+=d*d),S===0&&(S=Qe(n),m+=S*S),m<o&&(m=Math.sqrt(o*m)));do p.data!==e&&(N=s[p.data.index]*r/m,e.vx+=d*N,e.vy+=S*N);while(p=p.next)}return c.initialize=function(p,w){t=p,n=w,a()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:qt(+p),a(),c):i},c.distanceMin=function(p){return arguments.length?(o=p*p,c):Math.sqrt(o)},c.distanceMax=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c.theta=function(p){return arguments.length?(u=p*p,c):Math.sqrt(u)},c}function Ug(t){var e=qt(.1),n,r,i;typeof t!="function"&&(t=qt(t==null?0:+t));function s(l){for(var u=0,c=n.length,a;u<c;++u)a=n[u],a.vx+=(i[u]-a.x)*r[u]*l}function o(){if(n){var l,u=n.length;for(r=new Array(u),i=new Array(u),l=0;l<u;++l)r[l]=isNaN(i[l]=+t(n[l],l,n))?0:+e(n[l],l,n)}}return s.initialize=function(l){n=l,o()},s.strength=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),o(),s):e},s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),o(),s):t},s}function Wg(t){var e=qt(.1),n,r,i;typeof t!="function"&&(t=qt(t==null?0:+t));function s(l){for(var u=0,c=n.length,a;u<c;++u)a=n[u],a.vy+=(i[u]-a.y)*r[u]*l}function o(){if(n){var l,u=n.length;for(r=new Array(u),i=new Array(u),l=0;l<u;++l)r[l]=isNaN(i[l]=+t(n[l],l,n))?0:+e(n[l],l,n)}}return s.initialize=function(l){n=l,o()},s.strength=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),o(),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),o(),s):t},s}function ee(t){return function(){return t}}const Cu=Math.abs,jt=Math.atan2,hn=Math.cos,Kg=Math.max,Vs=Math.min,Ie=Math.sin,Ln=Math.sqrt,ne=1e-12,dr=Math.PI,di=dr/2,Xg=2*dr;function Yg(t){return t>1?0:t<-1?dr:Math.acos(t)}function Nu(t){return t>=1?di:t<=-1?-di:Math.asin(t)}function Ru(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gg(e)}function Jg(t){return t.innerRadius}function Qg(t){return t.outerRadius}function Zg(t){return t.startAngle}function t0(t){return t.endAngle}function e0(t){return t&&t.padAngle}function n0(t,e,n,r,i,s,o,l){var u=n-t,c=r-e,a=o-i,f=l-s,h=f*u-a*c;if(!(h*h<ne))return h=(a*(e-s)-f*(t-i))/h,[t+h*u,e+h*c]}function pi(t,e,n,r,i,s,o){var l=t-n,u=e-r,c=(o?s:-s)/Ln(l*l+u*u),a=c*u,f=-c*l,h=t+a,p=e+f,w=n+a,v=r+f,y=(h+w)/2,d=(p+v)/2,S=w-h,N=v-p,m=S*S+N*N,P=i-s,$=h*v-w*p,B=(N<0?-1:1)*Ln(Kg(0,P*P*m-$*$)),q=($*N-S*B)/m,Z=(-$*S-N*B)/m,j=($*N+S*B)/m,Q=(-$*S+N*B)/m,at=q-y,U=Z-d,E=j-y,z=Q-d;return at*at+U*U>E*E+z*z&&(q=j,Z=Q),{cx:q,cy:Z,x01:-a,y01:-f,x11:q*(i/P-1),y11:Z*(i/P-1)}}function r0(){var t=Jg,e=Qg,n=ee(0),r=null,i=Zg,s=t0,o=e0,l=null,u=Ru(c);function c(){var a,f,h=+t.apply(this,arguments),p=+e.apply(this,arguments),w=i.apply(this,arguments)-di,v=s.apply(this,arguments)-di,y=Cu(v-w),d=v>w;if(l||(l=a=u()),p<h&&(f=p,p=h,h=f),!(p>ne))l.moveTo(0,0);else if(y>Xg-ne)l.moveTo(p*hn(w),p*Ie(w)),l.arc(0,0,p,w,v,!d),h>ne&&(l.moveTo(h*hn(v),h*Ie(v)),l.arc(0,0,h,v,w,d));else{var S=w,N=v,m=w,P=v,$=y,B=y,q=o.apply(this,arguments)/2,Z=q>ne&&(r?+r.apply(this,arguments):Ln(h*h+p*p)),j=Vs(Cu(p-h)/2,+n.apply(this,arguments)),Q=j,at=j,U,E;if(Z>ne){var z=Nu(Z/h*Ie(q)),T=Nu(Z/p*Ie(q));($-=z*2)>ne?(z*=d?1:-1,m+=z,P-=z):($=0,m=P=(w+v)/2),(B-=T*2)>ne?(T*=d?1:-1,S+=T,N-=T):(B=0,S=N=(w+v)/2)}var O=p*hn(S),L=p*Ie(S),X=h*hn(P),J=h*Ie(P);if(j>ne){var it=p*hn(N),ot=p*Ie(N),St=h*hn(m),wt=h*Ie(m),yt;if(y<dr)if(yt=n0(O,L,St,wt,it,ot,X,J)){var Pt=O-yt[0],xt=L-yt[1],Mt=it-yt[0],It=ot-yt[1],Yt=1/Ie(Yg((Pt*Mt+xt*It)/(Ln(Pt*Pt+xt*xt)*Ln(Mt*Mt+It*It)))/2),Oe=Ln(yt[0]*yt[0]+yt[1]*yt[1]);Q=Vs(j,(h-Oe)/(Yt-1)),at=Vs(j,(p-Oe)/(Yt+1))}else Q=at=0}B>ne?at>ne?(U=pi(St,wt,O,L,p,at,d),E=pi(it,ot,X,J,p,at,d),l.moveTo(U.cx+U.x01,U.cy+U.y01),at<j?l.arc(U.cx,U.cy,at,jt(U.y01,U.x01),jt(E.y01,E.x01),!d):(l.arc(U.cx,U.cy,at,jt(U.y01,U.x01),jt(U.y11,U.x11),!d),l.arc(0,0,p,jt(U.cy+U.y11,U.cx+U.x11),jt(E.cy+E.y11,E.cx+E.x11),!d),l.arc(E.cx,E.cy,at,jt(E.y11,E.x11),jt(E.y01,E.x01),!d))):(l.moveTo(O,L),l.arc(0,0,p,S,N,!d)):l.moveTo(O,L),!(h>ne)||!($>ne)?l.lineTo(X,J):Q>ne?(U=pi(X,J,it,ot,h,-Q,d),E=pi(O,L,St,wt,h,-Q,d),l.lineTo(U.cx+U.x01,U.cy+U.y01),Q<j?l.arc(U.cx,U.cy,Q,jt(U.y01,U.x01),jt(E.y01,E.x01),!d):(l.arc(U.cx,U.cy,Q,jt(U.y01,U.x01),jt(U.y11,U.x11),!d),l.arc(0,0,h,jt(U.cy+U.y11,U.cx+U.x11),jt(E.cy+E.y11,E.cx+E.x11),d),l.arc(E.cx,E.cy,Q,jt(E.y11,E.x11),jt(E.y01,E.x01),!d))):l.arc(0,0,h,P,m,d)}if(l.closePath(),a)return l=null,a+""||null}return c.centroid=function(){var a=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-dr/2;return[hn(f)*a,Ie(f)*a]},c.innerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:ee(+a),c):t},c.outerRadius=function(a){return arguments.length?(e=typeof a=="function"?a:ee(+a),c):e},c.cornerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:ee(+a),c):n},c.padRadius=function(a){return arguments.length?(r=a==null?null:typeof a=="function"?a:ee(+a),c):r},c.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:ee(+a),c):i},c.endAngle=function(a){return arguments.length?(s=typeof a=="function"?a:ee(+a),c):s},c.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:ee(+a),c):o},c.context=function(a){return arguments.length?(l=a??null,c):l},c}function i0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Lu(t){this._context=t}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function s0(t){return new Lu(t)}function o0(t){return t[0]}function l0(t){return t[1]}function u0(t,e){var n=ee(!0),r=null,i=s0,s=null,o=Ru(l);t=typeof t=="function"?t:t===void 0?o0:ee(t),e=typeof e=="function"?e:e===void 0?l0:ee(e);function l(u){var c,a=(u=i0(u)).length,f,h=!1,p;for(r==null&&(s=i(p=o())),c=0;c<=a;++c)!(c<a&&n(f=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,c,u),+e(f,c,u));if(p)return s=null,p+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:ee(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:ee(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ee(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}const gi=t=>()=>t;function a0(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function He(t,e,n){this.k=t,this.x=e,this.y=n}He.prototype={constructor:He,scale:function(t){return t===1?this:new He(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new He(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Iu=new He(1,0,0);He.prototype;function zs(t){t.stopImmediatePropagation()}function pr(t){t.preventDefault(),t.stopImmediatePropagation()}function c0(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function f0(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ou(){return this.__zoom||Iu}function h0(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function d0(){return navigator.maxTouchPoints||"ontouchstart"in this}function p0(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function g0(){var t=c0,e=f0,n=p0,r=h0,i=d0,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ep,c=rr("start","zoom","end"),a,f,h,p=500,w=150,v=0,y=10;function d(E){E.property("__zoom",Ou).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",Z).on("dblclick.zoom",j).filter(i).on("touchstart.zoom",Q).on("touchmove.zoom",at).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(E,z,T,O){var L=E.selection?E.selection():E;L.property("__zoom",Ou),E!==L?P(E,z,T,O):L.interrupt().each(function(){$(this,arguments).event(O).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},d.scaleBy=function(E,z,T,O){d.scaleTo(E,function(){var L=this.__zoom.k,X=typeof z=="function"?z.apply(this,arguments):z;return L*X},T,O)},d.scaleTo=function(E,z,T,O){d.transform(E,function(){var L=e.apply(this,arguments),X=this.__zoom,J=T==null?m(L):typeof T=="function"?T.apply(this,arguments):T,it=X.invert(J),ot=typeof z=="function"?z.apply(this,arguments):z;return n(N(S(X,ot),J,it),L,o)},T,O)},d.translateBy=function(E,z,T,O){d.transform(E,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),o)},null,O)},d.translateTo=function(E,z,T,O,L){d.transform(E,function(){var X=e.apply(this,arguments),J=this.__zoom,it=O==null?m(X):typeof O=="function"?O.apply(this,arguments):O;return n(Iu.translate(it[0],it[1]).scale(J.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof T=="function"?-T.apply(this,arguments):-T),X,o)},O,L)};function S(E,z){return z=Math.max(s[0],Math.min(s[1],z)),z===E.k?E:new He(z,E.x,E.y)}function N(E,z,T){var O=z[0]-T[0]*E.k,L=z[1]-T[1]*E.k;return O===E.x&&L===E.y?E:new He(E.k,O,L)}function m(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function P(E,z,T,O){E.on("start.zoom",function(){$(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(O).end()}).tween("zoom",function(){var L=this,X=arguments,J=$(L,X).event(O),it=e.apply(L,X),ot=T==null?m(it):typeof T=="function"?T.apply(L,X):T,St=Math.max(it[1][0]-it[0][0],it[1][1]-it[0][1]),wt=L.__zoom,yt=typeof z=="function"?z.apply(L,X):z,Pt=u(wt.invert(ot).concat(St/wt.k),yt.invert(ot).concat(St/yt.k));return function(xt){if(xt===1)xt=yt;else{var Mt=Pt(xt),It=St/Mt[2];xt=new He(It,ot[0]-Mt[0]*It,ot[1]-Mt[1]*It)}J.zoom(null,xt)}})}function $(E,z,T){return!T&&E.__zooming||new B(E,z)}function B(E,z){this.that=E,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,z),this.taps=0}B.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,z){return this.mouse&&E!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var z=Tt(this.that).datum();c.call(E,this.that,new a0(E,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:c}),z)}};function q(E,...z){if(!t.apply(this,arguments))return;var T=$(this,z).event(E),O=this.__zoom,L=Math.max(s[0],Math.min(s[1],O.k*Math.pow(2,r.apply(this,arguments)))),X=Zt(E);if(T.wheel)(T.mouse[0][0]!==X[0]||T.mouse[0][1]!==X[1])&&(T.mouse[1]=O.invert(T.mouse[0]=X)),clearTimeout(T.wheel);else{if(O.k===L)return;T.mouse=[X,O.invert(X)],hi(this),T.start()}pr(E),T.wheel=setTimeout(J,w),T.zoom("mouse",n(N(S(O,L),T.mouse[0],T.mouse[1]),T.extent,o));function J(){T.wheel=null,T.end()}}function Z(E,...z){if(h||!t.apply(this,arguments))return;var T=E.currentTarget,O=$(this,z,!0).event(E),L=Tt(E.view).on("mousemove.zoom",ot,!0).on("mouseup.zoom",St,!0),X=Zt(E,T),J=E.clientX,it=E.clientY;Xl(E.view),zs(E),O.mouse=[X,this.__zoom.invert(X)],hi(this),O.start();function ot(wt){if(pr(wt),!O.moved){var yt=wt.clientX-J,Pt=wt.clientY-it;O.moved=yt*yt+Pt*Pt>v}O.event(wt).zoom("mouse",n(N(O.that.__zoom,O.mouse[0]=Zt(wt,T),O.mouse[1]),O.extent,o))}function St(wt){L.on("mousemove.zoom mouseup.zoom",null),Yl(wt.view,O.moved),pr(wt),O.event(wt).end()}}function j(E,...z){if(t.apply(this,arguments)){var T=this.__zoom,O=Zt(E.changedTouches?E.changedTouches[0]:E,this),L=T.invert(O),X=T.k*(E.shiftKey?.5:2),J=n(N(S(T,X),O,L),e.apply(this,z),o);pr(E),l>0?Tt(this).transition().duration(l).call(P,J,O,E):Tt(this).call(d.transform,J,O,E)}}function Q(E,...z){if(t.apply(this,arguments)){var T=E.touches,O=T.length,L=$(this,z,E.changedTouches.length===O).event(E),X,J,it,ot;for(zs(E),J=0;J<O;++J)it=T[J],ot=Zt(it,this),ot=[ot,this.__zoom.invert(ot),it.identifier],L.touch0?!L.touch1&&L.touch0[2]!==ot[2]&&(L.touch1=ot,L.taps=0):(L.touch0=ot,X=!0,L.taps=1+!!a);a&&(a=clearTimeout(a)),X&&(L.taps<2&&(f=ot[0],a=setTimeout(function(){a=null},p)),hi(this),L.start())}}function at(E,...z){if(this.__zooming){var T=$(this,z).event(E),O=E.changedTouches,L=O.length,X,J,it,ot;for(pr(E),X=0;X<L;++X)J=O[X],it=Zt(J,this),T.touch0&&T.touch0[2]===J.identifier?T.touch0[0]=it:T.touch1&&T.touch1[2]===J.identifier&&(T.touch1[0]=it);if(J=T.that.__zoom,T.touch1){var St=T.touch0[0],wt=T.touch0[1],yt=T.touch1[0],Pt=T.touch1[1],xt=(xt=yt[0]-St[0])*xt+(xt=yt[1]-St[1])*xt,Mt=(Mt=Pt[0]-wt[0])*Mt+(Mt=Pt[1]-wt[1])*Mt;J=S(J,Math.sqrt(xt/Mt)),it=[(St[0]+yt[0])/2,(St[1]+yt[1])/2],ot=[(wt[0]+Pt[0])/2,(wt[1]+Pt[1])/2]}else if(T.touch0)it=T.touch0[0],ot=T.touch0[1];else return;T.zoom("touch",n(N(J,it,ot),T.extent,o))}}function U(E,...z){if(this.__zooming){var T=$(this,z).event(E),O=E.changedTouches,L=O.length,X,J;for(zs(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),X=0;X<L;++X)J=O[X],T.touch0&&T.touch0[2]===J.identifier?delete T.touch0:T.touch1&&T.touch1[2]===J.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(J=Zt(J,this),Math.hypot(f[0]-J[0],f[1]-J[1])<y)){var it=Tt(this).on("dblclick.zoom");it&&it.apply(this,arguments)}}}return d.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:gi(+E),d):r},d.filter=function(E){return arguments.length?(t=typeof E=="function"?E:gi(!!E),d):t},d.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:gi(!!E),d):i},d.extent=function(E){return arguments.length?(e=typeof E=="function"?E:gi([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),d):e},d.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],d):[s[0],s[1]]},d.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],d):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},d.constrain=function(E){return arguments.length?(n=E,d):n},d.duration=function(E){return arguments.length?(l=+E,d):l},d.interpolate=function(E){return arguments.length?(u=E,d):u},d.on=function(){var E=c.on.apply(c,arguments);return E===c?d:E},d.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,d):Math.sqrt(v)},d.tapDistance=function(E){return arguments.length?(y=+E,d):y},d}function m0(t,e){let n=g0().filter(r=>r.button===0||r.touches?.length>=2);return w0(n,t,e)}function w0(t,e,n){return n?t.scaleExtent([.5,5]).on("zoom",r=>e(r,!0)):t.scaleExtent([1,1]).on("zoom",r=>e(r,!1))}var nt=(t=>(t.CIRCLE="circle",t.RECTANGLE="rect",t))(nt||{});class In{constructor(e,n,r,i,s,o,l,u,c,a,f,h){this.id=e,this.idImported=n,this.x=r,this.y=i,this.label=s,this.color=o,this.deletable=c,this.labelEditable=a,this.allowIncomingLinks=f,this.allowOutgoingLinks=h,this.shape=l,this.fixedPosition=u}fx;fy;_fixedPosition;_shape;set shape(e){this._shape===nt.CIRCLE||this._shape===nt.RECTANGLE?this._shape=e:this._shape=void 0}get shape(){return this._shape===nt.CIRCLE||this._shape===nt.RECTANGLE?this._shape:void 0}set fixedPosition(e){this._fixedPosition=e,this.fx=this.fixedPosition?.x?this.x:void 0,this.fy=this.fixedPosition?.y?this.y:void 0}get fixedPosition(){return this._fixedPosition}}function y0(t,e){const n=new CustomEvent("nodecreated",{detail:{node:{id:t.id,label:t.label,x:t.x,y:t.y}}});e.node().dispatchEvent(n)}function _0(t,e){const n=new CustomEvent("linkcreated",{detail:{link:{id:t.id,label:t.label}}});e.node().dispatchEvent(n)}function v0(t,e,n){const r=new CustomEvent("nodeclicked",{detail:{node:{id:t.id,label:t.label,x:t.x,y:t.y},button:e}});n.node().dispatchEvent(r)}function b0(t,e,n){const r=new CustomEvent("linkclicked",{detail:{link:{id:t.id,label:t.label},button:e}});n.node().dispatchEvent(r)}function mi(t,e){const n=new CustomEvent("nodedeleted",{detail:{node:{id:t.id,label:t.label,x:t.x,y:t.y}}});e.node().dispatchEvent(n)}function dn(t,e){const n=new CustomEvent("linkdeleted",{detail:{link:{id:t.id,label:t.label}}});e.node().dispatchEvent(n)}function x0(t,e,n){const r=new CustomEvent("labeledited",{detail:{parent:{id:t.id},label:e}});n.node().dispatchEvent(r)}function le(t){t.preventDefault(),t.stopPropagation()}function E0(t,e,n,r){const i=r.nodeProps;return Pd().filter((s,o)=>s.button===0&&(o.fixedPosition?.x!==!0||o.fixedPosition?.y!==!0)).on("start",(s,o)=>{le(s.sourceEvent),s.active===0&&t.alphaTarget(.5).restart(),o.fixedPosition?.x!==!0&&(o.fx=o.x),o.fixedPosition?.y!==!0&&(o.fy=o.y)}).on("drag",(s,o)=>{o.fixedPosition?.x!==!0&&(r.isCanvasBoundToView?i.shape===nt.CIRCLE?o.fx=Math.max(i.radius,Math.min(e-i.radius,s.x)):i.shape===nt.RECTANGLE&&(o.fx=Math.max(0,Math.min(e-i.width,s.x))):o.fx=s.x),o.fixedPosition?.y!==!0&&(r.isCanvasBoundToView?i.shape===nt.CIRCLE?o.fy=Math.max(i.radius,Math.min(n-i.radius,s.y)):i.shape===nt.RECTANGLE&&(o.fy=Math.max(0,Math.min(n-i.height,s.y))):o.fy=s.y)}).on("end",(s,o)=>{s.active===0&&t.alphaTarget(0),o.fixedPosition?.x!==!0&&(o.fx=void 0),o.fixedPosition?.y!==!0&&(o.fy=void 0)})}function S0(t,e,n,r,i){return t.append("svg").attr("class","graph-controller__graph-canvas").style("background-color","white").on("pointermove",o=>n(o)).on("pointerup",o=>r(o)).on("contextmenu",o=>le(o)).on("dblclick",o=>i(o)).call(e).on("dblclick.zoom",null).append("g")}var ue=(t=>(t.LINE="LINE",t.LINEREVERSE="LINE-REVERSE",t.ARC="ARC",t.ARCREVERSE="ARC-REVERSE",t.REFLEXIVE="REFLEXIVE",t))(ue||{});class P0{constructor(e,n,r,i,s,o,l){this.source=e,this.target=n,this.pathType=r,this.label=i,this.color=s,this.deletable=o,this.labelEditable=l,this.id=`${e.id}-${n.id}`}id}function M0(t){return t.append("g").classed("links",!0).selectAll(".graph-controller__link-container")}function k0(t){return t.append("g").classed("nodes",!0).selectAll(".graph-controller__node-container")}function Ze(t){let e=[],n=[];if(!Array.isArray(t))typeof t=="number"?e=[t]:n=[t];else{let r=t.map(String);n=r.filter(i=>i.includes("-")),e=r.filter(i=>!i.includes("-")).map(Number)}return[e,n]}function wi(t,e){e!==void 0&&(typeof e=="boolean"?e?t.fixedPosition={x:!0,y:!0}:t.fixedPosition={x:!1,y:!1}:On(["x","y"],Object.keys(e),!0)&&(t.fixedPosition=e,mr(["x","y"],Object.keys(e))))}function T0(t,e,n){return`
        M 0,${n}
        A ${n},${n} 0 0 1 ${n},0
        H ${t-n}
        A ${n},${n} 0 0 1 ${t},${n}
        V ${e-n}
        A ${n},${n} 0 0 1 ${t-n},${e}
        H ${n}
        A ${n},${n} 0 0 1 0,${e-n}
        Z
    `}function gr(t){return t.replace(/([#.,;:<>+~^$|[\]()%\\ ])/g,"\\$1")}function $u(t){let e=t.target;e.hasPointerCapture(t.pointerId)&&e.releasePointerCapture(t.pointerId)}function C0(t,e,n=2){const r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return r<n&&i<n}function mr(t,e,n){let r=!0;return e.forEach(i=>{t.includes(i)||(r=!1,tn(`Option not valid: ${i}`,`Use the following: ${t.join(", ")}.`))}),r}function On(t,e,n){let r=!0,i=t.filter(s=>!e.includes(s));return i.length>0&&(r=!1,n&&tn("Option missing",`Add: ${i}`)),r}function tn(t,e){console.error(t+`
`+e)}function N0(t,e,n,r){if(wr(t,n,e+"-link-arrow","graph-controller__arrow",!1),wr(t,n,e+"-link-arrow-reverse","graph-controller__arrow",!0),wr(t,n,e+"-draggable-link-arrow","graph-controller__arrow draggable",!1),r)for(let i of r)Gs(t,e,n,i)}function Gs(t,e,n,r){t.select(`#${e}-link-arrow-`+gr(r)).empty()&&(wr(t,n,e+"-link-arrow-"+r,"graph-controller__arrow "+r,!1,r),wr(t,n,e+"-link-arrow-reverse-"+r,"graph-controller__arrow colored",!0,r))}function Hs(t,e,n){t.select(`#${e}-link-arrow-`+gr(n)).select(function(){return this.parentNode}).remove(),t.select(`#${e}-link-arrow-reverse-`+gr(n)).select(function(){return this.parentNode}).remove()}function wr(t,e,n,r,i,s){t.append("defs").append("marker").attr("id",n).attr("viewBox",e.markerPath).attr("refX",e.markerRef).attr("refY",e.markerRef).attr("markerWidth",e.markerBoxSize).attr("markerHeight",e.markerBoxSize).attr("orient",i?"auto-start-reverse":"auto").classed(r,!0).append("path").attr("d",`${u0()(e.arrowPoints)}`).style("fill",s||"")}function R0(t){return t.append("path").classed("graph-controller__link draggable hidden",!0).attr("d","M0,0L0,0")}class Au{nodeIdCounter=0;nodes=[];links=[];createNode(e,n,r,i,s,o,l={x:!1,y:!1},u=!0,c=!0,a=!0,f=!0){const h=new In(this.nodeIdCounter++,r,e,n,i,s,o,l,u,c,a,f);return this.nodes.push(h),h}createLink(e,n,r,i,s=!0,o=!0){if(this.links.find(f=>f.source.id===e&&f.target.id===n)!==void 0)return;const u=this.nodes.find(f=>f.id===e);if(u===void 0)return;const c=this.nodes.find(f=>f.id===n);if(c===void 0)return;const a=new P0(u,c,void 0,r,i,s,o);return this.links.push(a),a}removeNode(e){const n=this.nodes.findIndex(i=>i.id===e.id);if(n===-1)return;this.nodes.splice(n,1);const r=this.links.filter(i=>i.source.id===e.id||i.target.id===e.id);return r.forEach(i=>{const s=this.links.indexOf(i,0);this.links.splice(s,1)}),[e,r]}removeLink(e){const n=this.links.findIndex(r=>r.source.id===e.source.id&&r.target.id===e.target.id);if(n!==-1)return this.links.splice(n,1),e}hasNonDefaultLinkColor(e,n=""){return this.links.some(r=>r.color===e&&r.id!==n)}getNonDefaultLinkColors(){return this.links.map(e=>e.color).filter(e=>e!==void 0&&e!=="")}getLinkIdsWithNonDefaultLinkColors(e,n=""){return this.links.filter(r=>r.color===e&&r.id!==n).map(r=>r.id)}hasBidirectionalConnection(e,n){return e.id!==n.id&&this.links.some(r=>r.target.id===e.id&&r.source.id===n.id)&&this.links.some(r=>r.target.id===n.id&&r.source.id===e.id)}toTGF(e=!0,n=!0,r=!1,i=!1){if(this.nodes.length===0&&this.links.length===0)return"";let s,o;return s=this.nodes.map(l=>{let u=`${l.id}`;return e&&l.label!==void 0&&(u+=` ${l.label}`),r&&l.color!==void 0&&(u+=` /COLOR:/${l.color}`),u}).join(`
`),o=this.links.map(l=>{let u=`${l.source.id} ${l.target.id}`;return n&&l.label!==void 0&&(u+=` ${l.label}`),i&&l.color!==void 0&&(u+=` /COLOR:/${l.color}`),u}).join(`
`),`${s}${o?`
#
`:""}${o}`}toJSON(e=!0,n=!0,r=!0,i=!0,s=!0,o=!0,l=!0){let u=this.nodes.map(a=>Object.fromEntries(Object.entries(a).filter(([f])=>f==="id"||e&&f==="label"||r&&f==="color"||s&&(f==="x"||f==="y")||o&&["fixedPosition","deletable","labelEditable","allowIncomingLinks","allowOutgoingLinks"].includes(f)))),c=this.links.map(a=>Object.fromEntries(Object.entries(this._convertToJSONLink(a)).filter(([f])=>f==="sourceId"||f==="targetId"||n&&f==="label"||i&&f==="color"||l&&["deletable","labelEditable"].includes(f))));return JSON.stringify({nodes:u,links:c},null,4)}_convertToJSONLink(e){let n=e.id.split("-");return{sourceId:Number(n[0]),targetId:Number(n[1]),label:e.label,color:e.color,deletable:e.deletable,labelEditable:e.labelEditable}}}function L0(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Fu(this.cover(e,n),e,n,t)}function Fu(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},l=t._x0,u=t._y0,c=t._x1,a=t._y1,f,h,p,w,v,y,d,S;if(!s)return t._root=o,t;for(;s.length;)if((v=e>=(f=(l+c)/2))?l=f:c=f,(y=n>=(h=(u+a)/2))?u=h:a=h,i=s,!(s=s[d=y<<1|v]))return i[d]=o,t;if(p=+t._x.call(null,s.data),w=+t._y.call(null,s.data),e===p&&n===w)return o.next=s,i?i[d]=o:t._root=o,t;do i=i?i[d]=new Array(4):t._root=new Array(4),(v=e>=(f=(l+c)/2))?l=f:c=f,(y=n>=(h=(u+a)/2))?u=h:a=h;while((d=y<<1|v)===(S=(w>=h)<<1|p>=f));return i[S]=s,i[d]=o,t}function I0(t){var e,n,r=t.length,i,s,o=new Array(r),l=new Array(r),u=1/0,c=1/0,a=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,l[n]=s,i<u&&(u=i),i>a&&(a=i),s<c&&(c=s),s>f&&(f=s));for(a<u&&(u=this._x0,a=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(u,c).cover(a,f),n=0;n<r;++n)Fu(this,o[n],l[n],t[n]);return this}function O0(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else if(n>t||t>i||r>e||e>s){var o=i-n,l=this._root,u,c;switch(c=(e<(r+s)/2)<<1|t<(n+i)/2){case 0:{do u=new Array(4),u[c]=l,l=u;while(o*=2,i=n+o,s=r+o,t>i||e>s);break}case 1:{do u=new Array(4),u[c]=l,l=u;while(o*=2,n=i-o,s=r+o,n>t||e>s);break}case 2:{do u=new Array(4),u[c]=l,l=u;while(o*=2,i=n+o,r=s-o,t>i||r>e);break}case 3:{do u=new Array(4),u[c]=l,l=u;while(o*=2,n=i-o,r=s-o,n>t||r>e);break}}this._root&&this._root.length&&(this._root=l)}else return this;return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function $0(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function A0(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ut(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function F0(t,e,n){var r,i=this._x0,s=this._y0,o,l,u,c,a=this._x1,f=this._y1,h=[],p=this._root,w,v;for(p&&h.push(new Ut(p,i,s,a,f)),n==null?n=1/0:(i=t-n,s=e-n,a=t+n,f=e+n,n*=n);w=h.pop();)if(!(!(p=w.node)||(o=w.x0)>a||(l=w.y0)>f||(u=w.x1)<i||(c=w.y1)<s))if(p.length){var y=(o+u)/2,d=(l+c)/2;h.push(new Ut(p[3],y,d,u,c),new Ut(p[2],o,d,y,c),new Ut(p[1],y,l,u,d),new Ut(p[0],o,l,y,d)),(v=(e>=d)<<1|t>=y)&&(w=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=w)}else{var S=t-+this._x.call(null,p.data),N=e-+this._y.call(null,p.data),m=S*S+N*N;if(m<n){var P=Math.sqrt(n=m);i=t-P,s=e-P,a=t+P,f=e+P,r=p.data}}return r}function j0(t){if(isNaN(a=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,l=this._y0,u=this._x1,c=this._y1,a,f,h,p,w,v,y,d;if(!n)return this;if(n.length)for(;;){if((w=a>=(h=(o+u)/2))?o=h:u=h,(v=f>=(p=(l+c)/2))?l=p:c=p,e=n,!(n=n[y=v<<1|w]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,d=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[y]=s:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[d]=n:this._root=n),this):(this._root=s,this)}function B0(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function D0(){return this._root}function V0(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function z0(t){var e=[],n,r=this._root,i,s,o,l,u;for(r&&e.push(new Ut(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,l=n.x1,u=n.y1)&&r.length){var c=(s+l)/2,a=(o+u)/2;(i=r[3])&&e.push(new Ut(i,c,a,l,u)),(i=r[2])&&e.push(new Ut(i,s,a,c,u)),(i=r[1])&&e.push(new Ut(i,c,o,l,a)),(i=r[0])&&e.push(new Ut(i,s,o,c,a))}return this}function G0(t){var e=[],n=[],r;for(this._root&&e.push(new Ut(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,l=r.y0,u=r.x1,c=r.y1,a=(o+u)/2,f=(l+c)/2;(s=i[0])&&e.push(new Ut(s,o,l,a,f)),(s=i[1])&&e.push(new Ut(s,a,l,u,f)),(s=i[2])&&e.push(new Ut(s,o,f,a,c)),(s=i[3])&&e.push(new Ut(s,a,f,u,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function H0(t){return t[0]}function q0(t){return arguments.length?(this._x=t,this):this._x}function U0(t){return t[1]}function W0(t){return arguments.length?(this._y=t,this):this._y}function ju(t,e,n){var r=new qs(e??H0,n??U0,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function qs(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Bu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Wt=ju.prototype=qs.prototype;Wt.copy=function(){var t=new qs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Bu(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Bu(r));return t},Wt.add=L0,Wt.addAll=I0,Wt.cover=O0,Wt.data=$0,Wt.extent=A0,Wt.find=F0,Wt.remove=j0,Wt.removeAll=B0,Wt.root=D0,Wt.size=V0,Wt.visit=z0,Wt.visitAfter=G0,Wt.x=q0,Wt.y=W0;function K0(t){function e(f){return f.x+f.vx}function n(f){return f.y+f.vy}function r(f){return function(){return f}}var i,s,o=1,l=1;typeof t!="function"&&(t=r(t===null?[[0,0][1]]:t));function u(){var f,h,p,w,v,y,d,S,N,m,P=[];i.forEach(function(j,Q){P.push({node:j,vx:j.vx,vy:j.vy,x:j.x+(s[Q][1][0]+s[Q][0][0])/2,y:j.y+(s[Q][0][1]+s[Q][1][1])/2}),P.push({node:j,vx:j.vx,vy:j.vy,x:j.x+s[Q][0][0],y:j.y+s[Q][0][1]}),P.push({node:j,vx:j.vx,vy:j.vy,x:j.x+s[Q][0][0],y:j.y+s[Q][1][1]}),P.push({node:j,vx:j.vx,vy:j.vy,x:j.x+s[Q][1][0],y:j.y+s[Q][0][1]}),P.push({node:j,vx:j.vx,vy:j.vy,x:j.x+s[Q][1][0],y:j.y+s[Q][1][1]})});for(var $=P.length,B=0;B<l;++B)for(h=ju(P,e,n).visitAfter(c),f=0;f<$;++f){var q=~~(f/5);p=i[q],y=s[q],w=p.x+p.vx,v=p.y+p.vy,d=w+y[0][0],S=v+y[0][1],N=w+y[1][0],m=v+y[1][1],h.visit(Z)}function Z(j,Q,at,U,E){var z=j.data;if(z){var T=a(y,0),O=a(y,1);if(z.node.index!==q){var L=z.node,X=s[L.index],J=L.x+L.vx+X[0][0],it=L.y+L.vy+X[0][1],ot=L.x+L.vx+X[1][0],St=L.y+L.vy+X[1][1],wt=a(X,0),yt=a(X,1);if(d<=ot&&J<=N&&S<=St&&it<=m){var Pt=[Math.min.apply(null,[J,ot,d,N]),Math.max.apply(null,[J,ot,d,N])],xt=[Math.min.apply(null,[it,St,S,m]),Math.max.apply(null,[it,St,S,m])],Mt=T+wt-(Pt[1]-Pt[0]),It=O+yt-(xt[1]-xt[0]),Yt=Mt*o*(It/O),Oe=It*o*(Mt/T),_=Mt*o*(It/yt),x=It*o*(Mt/wt);(d+N)/2<(J+ot)/2?(p.vx-=Yt,L.vx+=_):(p.vx+=Yt,L.vx-=_),(S+m)/2<(it+St)/2?(p.vy-=Oe,L.vy+=x):(p.vy+=Oe,L.vy-=x)}}return}return Q>N||U<d||at>m||E<S}}function c(f){if(f.data)return f.bb=s[f.data.node.index];f.bb=[[0,0],[0,0]];for(var h=0;h<4;++h)f[h]&&f[h].bb[0][0]<f.bb[0][0]&&(f.bb[0][0]=f[h].bb[0][0]),f[h]&&f[h].bb[0][1]<f.bb[0][1]&&(f.bb[0][1]=f[h].bb[0][1]),f[h]&&f[h].bb[1][0]>f.bb[1][0]&&(f.bb[1][0]=f[h].bb[1][0]),f[h]&&f[h].bb[1][1]>f.bb[1][1]&&(f.bb[1][1]=f[h].bb[1][1])}function a(f,h){return f[1][h]-f[0][h]}return u.initialize=function(f){var h,p=(i=f).length;for(s=new Array(p),h=0;h<p;++h)s[h]=t(i[h],h,i)},u.iterations=function(f){return arguments.length?(l=+f,u):l},u.strength=function(f){return arguments.length?(o=+f,u):o},u.bbox=function(f){return arguments.length?(t=typeof f=="function"?f:r(+f),u):t},u}function X0(t,e,n,r,i){let s=Hg(t.nodes).on("tick",()=>i());return s=Y0(s,e),e.isCanvasBoundToView&&(s=J0(t,s,n,r,e)),s=Vu(s,t,e,e.fixedLinkDistanceEnabled),s=Du(s,e.nodePhysicsEnabled,n,r),s}function Y0(t,e){if(e.nodeProps.shape===nt.CIRCLE)return t.force("collision",Og().radius(e.nodeProps.radius));if(e.nodeProps.shape===nt.RECTANGLE){let n=K0([[-.5*e.nodeProps.width,-.5*e.nodeProps.height],[.5*e.nodeProps.width,.5*e.nodeProps.height]]);return t.force("collision",n)}return t}function J0(t,e,n,r,i){return e.force("bounds",()=>{for(const s of t.nodes)i.nodeProps.shape===nt.CIRCLE?(s.x=Math.max(i.nodeProps.radius,Math.min(n-i.nodeProps.radius,s.x)),s.y=Math.max(i.nodeProps.radius,Math.min(r-i.nodeProps.radius,s.y))):i.nodeProps.shape===nt.RECTANGLE&&(s.x=Math.max(0,Math.min(n-i.nodeProps.width,s.x)),s.y=Math.max(0,Math.min(r-i.nodeProps.height,s.y)))})}function Du(t,e,n,r){return e?t.force("charge",qg().strength(-500)).force("x",Ug(n/2).strength(.05)).force("y",Wg(r/2).strength(.05)):t.force("charge",null).force("x",null).force("y",null)}function Vu(t,e,n,r){if(r){let i=0;return n.nodeProps.shape===nt.CIRCLE?i=n.nodeProps.radius:n.nodeProps.shape===nt.RECTANGLE&&(n.nodeProps.width<n.nodeProps.height?i=n.nodeProps.width/2:i=n.nodeProps.height/2),t.force("link",Ag().links(e.links).id(s=>s.id).distance(i*10))}else return t.force("link",null)}const Q0=Object.prototype.toString;function yi(t){const e=Q0.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function Z0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!yi(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,i=e.toIndex,s=i===void 0?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[r],l=r+1;l<s;l++)t[l]>o&&(o=t[l]);return o}function tm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!yi(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,i=e.toIndex,s=i===void 0?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[r],l=r+1;l<s;l++)t[l]<o&&(o=t[l]);return o}function zu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yi(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(e.output!==void 0){if(!yi(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=tm(t),i=Z0(t);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=e.min,o=s===void 0?e.autoMinMax?r:0:s,l=e.max,u=l===void 0?e.autoMinMax?i:1:l;if(o>=u)throw new RangeError("min option must be smaller than max option");for(var c=(u-o)/(i-r),a=0;a<t.length;a++)n[a]=(t[a]-r)*c+o;return n}const _i=" ".repeat(2),Gu=" ".repeat(4);function em(){return Hu(this)}function Hu(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8}=e;return`${t.constructor.name} {
${_i}[
${Gu}${nm(t,n,r,i)}
${_i}]
${_i}rows: ${t.rows}
${_i}columns: ${t.columns}
}`}function nm(t,e,n,r){const{rows:i,columns:s}=t,o=Math.min(i,e),l=Math.min(s,n),u=[];for(let c=0;c<o;c++){let a=[];for(let f=0;f<l;f++)a.push(rm(t.get(c,f),r));u.push(`${a.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==i&&u.push(`... ${i-e} more rows`),u.join(`
${Gu}`)}function rm(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");const r=t.toPrecision(e-2);if(r.length<=e)return r;const i=t.toExponential(e-2),s=i.indexOf("e"),o=i.slice(s);return i.slice(0,e-o.length)+o}function im(t,e){t.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},t.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)+r);return this},t.prototype.addM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)+r.get(i,s));return this},t.add=function(r,i){return new e(r).add(i)},t.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},t.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)-r);return this},t.prototype.subM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)-r.get(i,s));return this},t.sub=function(r,i){return new e(r).sub(i)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},t.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)*r);return this},t.prototype.mulM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)*r.get(i,s));return this},t.mul=function(r,i){return new e(r).mul(i)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},t.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)/r);return this},t.prototype.divM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)/r.get(i,s));return this},t.div=function(r,i){return new e(r).div(i)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},t.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)%r);return this},t.prototype.modM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)%r.get(i,s));return this},t.mod=function(r,i){return new e(r).mod(i)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},t.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)&r);return this},t.prototype.andM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)&r.get(i,s));return this},t.and=function(r,i){return new e(r).and(i)},t.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},t.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)|r);return this},t.prototype.orM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)|r.get(i,s));return this},t.or=function(r,i){return new e(r).or(i)},t.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},t.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)^r);return this},t.prototype.xorM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)^r.get(i,s));return this},t.xor=function(r,i){return new e(r).xor(i)},t.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},t.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)<<r);return this},t.prototype.leftShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)<<r.get(i,s));return this},t.leftShift=function(r,i){return new e(r).leftShift(i)},t.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},t.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)>>r);return this},t.prototype.signPropagatingRightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)>>r.get(i,s));return this},t.signPropagatingRightShift=function(r,i){return new e(r).signPropagatingRightShift(i)},t.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},t.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)>>>r);return this},t.prototype.rightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,this.get(i,s)>>>r.get(i,s));return this},t.rightShift=function(r,i){return new e(r).rightShift(i)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},t.not=function(r){return new e(r).not()},t.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},t.abs=function(r){return new e(r).abs()},t.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},t.acos=function(r){return new e(r).acos()},t.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},t.acosh=function(r){return new e(r).acosh()},t.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},t.asin=function(r){return new e(r).asin()},t.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},t.asinh=function(r){return new e(r).asinh()},t.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},t.atan=function(r){return new e(r).atan()},t.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},t.atanh=function(r){return new e(r).atanh()},t.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},t.cbrt=function(r){return new e(r).cbrt()},t.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},t.ceil=function(r){return new e(r).ceil()},t.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},t.clz32=function(r){return new e(r).clz32()},t.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},t.cos=function(r){return new e(r).cos()},t.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},t.cosh=function(r){return new e(r).cosh()},t.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},t.exp=function(r){return new e(r).exp()},t.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},t.expm1=function(r){return new e(r).expm1()},t.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},t.floor=function(r){return new e(r).floor()},t.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},t.fround=function(r){return new e(r).fround()},t.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},t.log=function(r){return new e(r).log()},t.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},t.log1p=function(r){return new e(r).log1p()},t.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},t.log10=function(r){return new e(r).log10()},t.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},t.log2=function(r){return new e(r).log2()},t.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},t.round=function(r){return new e(r).round()},t.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},t.sign=function(r){return new e(r).sign()},t.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},t.sin=function(r){return new e(r).sin()},t.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},t.sinh=function(r){return new e(r).sinh()},t.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},t.sqrt=function(r){return new e(r).sqrt()},t.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},t.tan=function(r){return new e(r).tan()},t.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},t.tanh=function(r){return new e(r).tanh()},t.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},t.trunc=function(r){return new e(r).trunc()},t.pow=function(r,i){return new e(r).pow(i)},t.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},t.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,Math.pow(this.get(i,s),r));return this},t.prototype.powM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let s=0;s<this.columns;s++)this.set(i,s,Math.pow(this.get(i,s),r.get(i,s)));return this}}function ve(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function be(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function $n(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function An(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function sm(t,e,n){return{row:om(t,e),column:lm(t,n)}}function om(t,e){if(typeof e!="object")throw new TypeError("unexpected type for row indices");if(e.some(r=>r<0||r>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function lm(t,e){if(typeof e!="object")throw new TypeError("unexpected type for column indices");if(e.some(r=>r<0||r>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function qu(t,e,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(bi("startRow",e),bi("endRow",n),bi("startColumn",r),bi("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function vi(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function bi(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function Fn(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function um(t){let e=vi(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}function am(t){let e=vi(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}function cm(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}function fm(t){let e=vi(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}function hm(t){let e=vi(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}function dm(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}function pm(t,e,n){const r=t.rows,i=t.columns,s=[];for(let o=0;o<r;o++){let l=0,u=0,c=0;for(let a=0;a<i;a++)c=t.get(o,a)-n[o],l+=c,u+=c*c;e?s.push((u-l*l/i)/(i-1)):s.push((u-l*l/i)/i)}return s}function gm(t,e,n){const r=t.rows,i=t.columns,s=[];for(let o=0;o<i;o++){let l=0,u=0,c=0;for(let a=0;a<r;a++)c=t.get(a,o)-n[o],l+=c,u+=c*c;e?s.push((u-l*l/r)/(r-1)):s.push((u-l*l/r)/r)}return s}function mm(t,e,n){const r=t.rows,i=t.columns,s=r*i;let o=0,l=0,u=0;for(let c=0;c<r;c++)for(let a=0;a<i;a++)u=t.get(c,a)-n,o+=u,l+=u*u;return e?(l-o*o/s)/(s-1):(l-o*o/s)/s}function wm(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function ym(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function _m(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function vm(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let i=0;i<t.columns;i++)r+=Math.pow(t.get(n,i),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}function bm(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function xm(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}function Em(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function Sm(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}function Pm(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}class ct{static from1DArray(e,n,r){if(e*n!==r.length)throw new RangeError("data length does not match given dimensions");let s=new rt(e,n);for(let o=0;o<e;o++)for(let l=0;l<n;l++)s.set(o,l,r[o*n+l]);return s}static rowVector(e){let n=new rt(1,e.length);for(let r=0;r<e.length;r++)n.set(0,r,e[r]);return n}static columnVector(e){let n=new rt(e.length,1);for(let r=0;r<e.length;r++)n.set(r,0,e[r]);return n}static zeros(e,n){return new rt(e,n)}static ones(e,n){return new rt(e,n).fill(1)}static rand(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let s=new rt(e,n);for(let o=0;o<e;o++)for(let l=0;l<n;l++)s.set(o,l,i());return s}static randInt(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:s=1e3,random:o=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(i>=s)throw new RangeError("min must be smaller than max");let l=s-i,u=new rt(e,n);for(let c=0;c<e;c++)for(let a=0;a<n;a++){let f=i+Math.round(o()*l);u.set(c,a,f)}return u}static eye(e,n,r){n===void 0&&(n=e),r===void 0&&(r=1);let i=Math.min(e,n),s=this.zeros(e,n);for(let o=0;o<i;o++)s.set(o,o,r);return s}static diag(e,n,r){let i=e.length;n===void 0&&(n=i),r===void 0&&(r=n);let s=Math.min(i,n,r),o=this.zeros(n,r);for(let l=0;l<s;l++)o.set(l,l,e[l]);return o}static min(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,i=e.columns,s=new rt(r,i);for(let o=0;o<r;o++)for(let l=0;l<i;l++)s.set(o,l,Math.min(e.get(o,l),n.get(o,l)));return s}static max(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,i=e.columns,s=new this(r,i);for(let o=0;o<r;o++)for(let l=0;l<i;l++)s.set(o,l,Math.max(e.get(o,l),n.get(o,l)));return s}static checkMatrix(e){return ct.isMatrix(e)?e:new rt(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.call(this,n,r);return this}to1DArray(){let e=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.push(this.get(n,r));return e}to2DArray(){let e=[];for(let n=0;n<this.rows;n++){e.push([]);for(let r=0;r<this.columns;r++)e[n].push(this.get(n,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let n=0;n<=e;n++)if(this.get(e,n)!==this.get(n,e))return!1;return!0}return!1}isEchelonForm(){let e=0,n=0,r=-1,i=!0,s=!1;for(;e<this.rows&&i;){for(n=0,s=!1;n<this.columns&&s===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(s=!0,r=n):(i=!1,s=!0);e++}return i}isReducedEchelonForm(){let e=0,n=0,r=-1,i=!0,s=!1;for(;e<this.rows&&i;){for(n=0,s=!1;n<this.columns&&s===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(s=!0,r=n):(i=!1,s=!0);for(let o=n+1;o<this.rows;o++)this.get(e,o)!==0&&(i=!1);e++}return i}echelonForm(){let e=this.clone(),n=0,r=0;for(;n<e.rows&&r<e.columns;){let i=n;for(let s=n;s<e.rows;s++)e.get(s,r)>e.get(i,r)&&(i=s);if(e.get(i,r)===0)r++;else{e.swapRows(n,i);let s=e.get(n,r);for(let o=r;o<e.columns;o++)e.set(n,o,e.get(n,o)/s);for(let o=n+1;o<e.rows;o++){let l=e.get(o,r)/e.get(n,r);e.set(o,r,0);for(let u=r+1;u<e.columns;u++)e.set(o,u,e.get(o,u)-e.get(n,u)*l)}n++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),n=e.columns,r=e.rows,i=r-1;for(;i>=0;)if(e.maxRow(i)===0)i--;else{let s=0,o=!1;for(;s<r&&o===!1;)e.get(i,s)===1?o=!0:s++;for(let l=0;l<i;l++){let u=e.get(l,s);for(let c=s;c<n;c++){let a=e.get(l,c)-u*e.get(i,c);e.set(l,c,a)}}i--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=e;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new rt(this.rows*n,this.columns*r);for(let s=0;s<n;s++)for(let o=0;o<r;o++)i.setSubMatrix(this,this.rows*s,this.columns*o);return i}fill(e){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,e);return this}neg(){return this.mulS(-1)}getRow(e){ve(this,e);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(e,r));return n}getRowVector(e){return rt.rowVector(this.getRow(e))}setRow(e,n){ve(this,e),n=$n(this,n);for(let r=0;r<this.columns;r++)this.set(e,r,n[r]);return this}swapRows(e,n){ve(this,e),ve(this,n);for(let r=0;r<this.columns;r++){let i=this.get(e,r);this.set(e,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(e){be(this,e);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,e));return n}getColumnVector(e){return rt.columnVector(this.getColumn(e))}setColumn(e,n){be(this,e),n=An(this,n);for(let r=0;r<this.rows;r++)this.set(r,e,n[r]);return this}swapColumns(e,n){be(this,e),be(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,e);this.set(r,e,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(e){e=$n(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[r]);return this}subRowVector(e){e=$n(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[r]);return this}mulRowVector(e){e=$n(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[r]);return this}divRowVector(e){e=$n(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[r]);return this}addColumnVector(e){e=An(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[n]);return this}subColumnVector(e){e=An(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[n]);return this}mulColumnVector(e){e=An(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[n]);return this}divColumnVector(e){e=An(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[n]);return this}mulRow(e,n){ve(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*n);return this}mulColumn(e,n){be(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*n);return this}max(){if(this.isEmpty())return NaN;let e=this.get(0,0);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r));return e}maxIndex(){Fn(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>e&&(e=this.get(r,i),n[0]=r,n[1]=i);return n}min(){if(this.isEmpty())return NaN;let e=this.get(0,0);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r));return e}minIndex(){Fn(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<e&&(e=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(e){if(ve(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>n&&(n=this.get(e,r));return n}maxRowIndex(e){ve(this,e),Fn(this);let n=this.get(e,0),r=[e,0];for(let i=1;i<this.columns;i++)this.get(e,i)>n&&(n=this.get(e,i),r[1]=i);return r}minRow(e){if(ve(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<n&&(n=this.get(e,r));return n}minRowIndex(e){ve(this,e),Fn(this);let n=this.get(e,0),r=[e,0];for(let i=1;i<this.columns;i++)this.get(e,i)<n&&(n=this.get(e,i),r[1]=i);return r}maxColumn(e){if(be(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>n&&(n=this.get(r,e));return n}maxColumnIndex(e){be(this,e),Fn(this);let n=this.get(0,e),r=[0,e];for(let i=1;i<this.rows;i++)this.get(i,e)>n&&(n=this.get(i,e),r[0]=i);return r}minColumn(e){if(be(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<n&&(n=this.get(r,e));return n}minColumnIndex(e){be(this,e),Fn(this);let n=this.get(0,e),r=[0,e];for(let i=1;i<this.rows;i++)this.get(i,e)<n&&(n=this.get(i,e),r[0]=i);return r}diag(){let e=Math.min(this.rows,this.columns),n=[];for(let r=0;r<e;r++)n.push(this.get(r,r));return n}norm(e="frobenius"){let n=0;if(e==="max")return this.max();if(e==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){let e=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e+=this.get(n,r),this.set(n,r,e);return this}dot(e){ct.isMatrix(e)&&(e=e.to1DArray());let n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*e[i];return r}mmul(e){e=rt.checkMatrix(e);let n=this.rows,r=this.columns,i=e.columns,s=new rt(n,i),o=new Float64Array(r);for(let l=0;l<i;l++){for(let u=0;u<r;u++)o[u]=e.get(u,l);for(let u=0;u<n;u++){let c=0;for(let a=0;a<r;a++)c+=this.get(u,a)*o[a];s.set(u,l,c)}}return s}strassen2x2(e){e=rt.checkMatrix(e);let n=new rt(2,2);const r=this.get(0,0),i=e.get(0,0),s=this.get(0,1),o=e.get(0,1),l=this.get(1,0),u=e.get(1,0),c=this.get(1,1),a=e.get(1,1),f=(r+c)*(i+a),h=(l+c)*i,p=r*(o-a),w=c*(u-i),v=(r+s)*a,y=(l-r)*(i+o),d=(s-c)*(u+a),S=f+w-v+d,N=p+v,m=h+w,P=f-h+p+y;return n.set(0,0,S),n.set(0,1,N),n.set(1,0,m),n.set(1,1,P),n}strassen3x3(e){e=rt.checkMatrix(e);let n=new rt(3,3);const r=this.get(0,0),i=this.get(0,1),s=this.get(0,2),o=this.get(1,0),l=this.get(1,1),u=this.get(1,2),c=this.get(2,0),a=this.get(2,1),f=this.get(2,2),h=e.get(0,0),p=e.get(0,1),w=e.get(0,2),v=e.get(1,0),y=e.get(1,1),d=e.get(1,2),S=e.get(2,0),N=e.get(2,1),m=e.get(2,2),P=(r+i+s-o-l-a-f)*y,$=(r-o)*(-p+y),B=l*(-h+p+v-y-d-S+m),q=(-r+o+l)*(h-p+y),Z=(o+l)*(-h+p),j=r*h,Q=(-r+c+a)*(h-w+d),at=(-r+c)*(w-d),U=(c+a)*(-h+w),E=(r+i+s-l-u-c-a)*d,z=a*(-h+w+v-y-d-S+N),T=(-s+a+f)*(y+S-N),O=(s-f)*(y-N),L=s*S,X=(a+f)*(-S+N),J=(-s+l+u)*(d+S-m),it=(s-u)*(d-m),ot=(l+u)*(-S+m),St=i*v,wt=u*N,yt=o*w,Pt=c*p,xt=f*m,Mt=j+L+St,It=P+q+Z+j+T+L+X,Yt=j+Q+U+E+L+J+ot,Oe=$+B+q+j+L+J+it,_=$+q+Z+j+wt,x=L+J+it+ot+yt,C=j+Q+at+z+T+O+L,F=T+O+L+X+Pt,I=j+Q+at+U+xt;return n.set(0,0,Mt),n.set(0,1,It),n.set(0,2,Yt),n.set(1,0,Oe),n.set(1,1,_),n.set(1,2,x),n.set(2,0,C),n.set(2,1,F),n.set(2,2,I),n}mmulStrassen(e){e=rt.checkMatrix(e);let n=this.clone(),r=n.rows,i=n.columns,s=e.rows,o=e.columns;i!==s&&console.warn(`Multiplying ${r} x ${i} and ${s} x ${o} matrix: dimensions do not match.`);function l(f,h,p){let w=f.rows,v=f.columns;if(w===h&&v===p)return f;{let y=ct.zeros(h,p);return y=y.setSubMatrix(f,0,0),y}}let u=Math.max(r,s),c=Math.max(i,o);n=l(n,u,c),e=l(e,u,c);function a(f,h,p,w){if(p<=512||w<=512)return f.mmul(h);p%2===1&&w%2===1?(f=l(f,p+1,w+1),h=l(h,p+1,w+1)):p%2===1?(f=l(f,p+1,w),h=l(h,p+1,w)):w%2===1&&(f=l(f,p,w+1),h=l(h,p,w+1));let v=parseInt(f.rows/2,10),y=parseInt(f.columns/2,10),d=f.subMatrix(0,v-1,0,y-1),S=h.subMatrix(0,v-1,0,y-1),N=f.subMatrix(0,v-1,y,f.columns-1),m=h.subMatrix(0,v-1,y,h.columns-1),P=f.subMatrix(v,f.rows-1,0,y-1),$=h.subMatrix(v,h.rows-1,0,y-1),B=f.subMatrix(v,f.rows-1,y,f.columns-1),q=h.subMatrix(v,h.rows-1,y,h.columns-1),Z=a(ct.add(d,B),ct.add(S,q),v,y),j=a(ct.add(P,B),S,v,y),Q=a(d,ct.sub(m,q),v,y),at=a(B,ct.sub($,S),v,y),U=a(ct.add(d,N),q,v,y),E=a(ct.sub(P,d),ct.add(S,m),v,y),z=a(ct.sub(N,B),ct.add($,q),v,y),T=ct.add(Z,at);T.sub(U),T.add(z);let O=ct.add(Q,U),L=ct.add(j,at),X=ct.sub(Z,j);X.add(Q),X.add(E);let J=ct.zeros(2*T.rows,2*T.columns);return J=J.setSubMatrix(T,0,0),J=J.setSubMatrix(O,T.rows,0),J=J.setSubMatrix(L,0,T.columns),J=J.setSubMatrix(X,T.rows,T.columns),J.subMatrix(0,p-1,0,w-1)}return a(n,e,u,c)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new rt(this.rows,this.columns);for(let s=0;s<this.rows;s++){const o=this.getRow(s);o.length>0&&zu(o,{min:n,max:r,output:o}),i.setRow(s,o)}return i}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new rt(this.rows,this.columns);for(let s=0;s<this.columns;s++){const o=this.getColumn(s);o.length&&zu(o,{min:n,max:r,output:o}),i.setColumn(s,o)}return i}flipRows(){const e=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<e;r++){let i=this.get(n,r),s=this.get(n,this.columns-1-r);this.set(n,r,s),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<e;r++){let i=this.get(r,n),s=this.get(this.rows-1-r,n);this.set(r,n,s),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(e){e=rt.checkMatrix(e);let n=this.rows,r=this.columns,i=e.rows,s=e.columns,o=new rt(n*i,r*s);for(let l=0;l<n;l++)for(let u=0;u<r;u++)for(let c=0;c<i;c++)for(let a=0;a<s;a++)o.set(i*l+c,s*u+a,this.get(l,u)*e.get(c,a));return o}kroneckerSum(e){if(e=rt.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=e.rows,i=this.kroneckerProduct(rt.eye(r,r)),s=rt.eye(n,n).kroneckerProduct(e);return i.add(s)}transpose(){let e=new rt(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.set(r,n,this.get(n,r));return e}sortRows(e=Uu){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}sortColumns(e=Uu){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}subMatrix(e,n,r,i){qu(this,e,n,r,i);let s=new rt(n-e+1,i-r+1);for(let o=e;o<=n;o++)for(let l=r;l<=i;l++)s.set(o-e,l-r,this.get(o,l));return s}subMatrixRow(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new rt(e.length,r-n+1);for(let s=0;s<e.length;s++)for(let o=n;o<=r;o++){if(e[s]<0||e[s]>=this.rows)throw new RangeError(`Row index out of range: ${e[s]}`);i.set(s,o-n,this.get(e[s],o))}return i}subMatrixColumn(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new rt(r-n+1,e.length);for(let s=0;s<e.length;s++)for(let o=n;o<=r;o++){if(e[s]<0||e[s]>=this.columns)throw new RangeError(`Column index out of range: ${e[s]}`);i.set(o-n,s,this.get(o,e[s]))}return i}setSubMatrix(e,n,r){if(e=rt.checkMatrix(e),e.isEmpty())return this;let i=n+e.rows-1,s=r+e.columns-1;qu(this,n,i,r,s);for(let o=0;o<e.rows;o++)for(let l=0;l<e.columns;l++)this.set(n+o,r+l,e.get(o,l));return this}selection(e,n){let r=sm(this,e,n),i=new rt(e.length,n.length);for(let s=0;s<r.row.length;s++){let o=r.row[s];for(let l=0;l<r.column.length;l++){let u=r.column[l];i.set(s,l,this.get(o,u))}}return i}trace(){let e=Math.min(this.rows,this.columns),n=0;for(let r=0;r<e;r++)n+=this.get(r,r);return n}clone(){let e=new rt(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.set(n,r,this.get(n,r));return e}sum(e){switch(e){case"row":return um(this);case"column":return am(this);case void 0:return cm(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return fm(this);case"column":return hm(this);case void 0:return dm(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const n=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(e)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!Array.isArray(i))throw new TypeError("mean must be an array");return pm(this,r,i)}case"column":{if(!Array.isArray(i))throw new TypeError("mean must be an array");return gm(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return mm(this,r,i)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,n){typeof e=="object"&&(n=e,e=void 0);const r=this.variance(e,n);if(e===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(e)}=n;switch(e){case"row":{if(!Array.isArray(r))throw new TypeError("center must be an array");return wm(this,r),this}case"column":{if(!Array.isArray(r))throw new TypeError("center must be an array");return ym(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return _m(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(e){case"row":{if(r===void 0)r=vm(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return bm(this,r),this}case"column":{if(r===void 0)r=xm(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Em(this,r),this}case void 0:{if(r===void 0)r=Sm(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return Pm(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return Hu(this,e)}}ct.prototype.klass="Matrix",typeof Symbol<"u"&&(ct.prototype[Symbol.for("nodejs.util.inspect.custom")]=em);function Uu(t,e){return t-e}ct.random=ct.rand,ct.randomInt=ct.randInt,ct.diagonal=ct.diag,ct.prototype.diagonal=ct.prototype.diag,ct.identity=ct.eye,ct.prototype.negate=ct.prototype.neg,ct.prototype.tensorProduct=ct.prototype.kroneckerProduct;class rt extends ct{constructor(e,n){if(super(),rt.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<e;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){const r=e;if(e=r.length,n=e?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<e;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=e,this.columns=n}set(e,n,r){return this.data[e][n]=r,this}get(e,n){return this.data[e][n]}removeRow(e){return ve(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,n){return n===void 0&&(n=e,e=this.rows),ve(this,e,!0),n=Float64Array.from($n(this,n)),this.data.splice(e,0,n),this.rows+=1,this}removeColumn(e){be(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<e;i++)r[i]=this.data[n][i];for(let i=e+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(e,n){typeof n>"u"&&(n=e,e=this.columns),be(this,e,!0),n=An(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let s=0;for(;s<e;s++)i[s]=this.data[r][s];for(i[s++]=n[r];s<this.columns+1;s++)i[s]=this.data[r][s-1];this.data[r]=i}return this.columns+=1,this}}im(ct,rt);function Mm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xi={exports:{}},km=xi.exports,Wu;function Tm(){return Wu||(Wu=1,function(t,e){(function(n,r){t.exports=r()})(km,function(){function n(o){o=o.replace(/,/g," ").replace(/([^eE])-/g,"$1 -").replace(/\s*([achlmqstvzACHLMQSTVZ])\s*/g," $1 ").replace(/\s+/g," ").replace(/(\d*\.\d+([eE]-?\d+)?)((\.\d+)+)/g,(T,O,L,X)=>O+X.replaceAll("."," ."));var l=o.replace(/([achlmqstvzACHLMQSTVZ])\s?/g,"|$1").split("|"),u=l.length,c,a,f,h,p,w=[],v=[],y,d,S=0,N=0,m=0,P=0,$=0,B=0,q=0,Z=0,j=0,Q=0,at=0,U=0,E=0,z="";for(c=1;c<u;c++){if(a=l[c],f=a.substring(0,1),h=f.toLowerCase(),w=a.replace(f,"").trim().split(" ").filter(function(T){return T!==""}),v=w,w=w.map(parseFloat),y=w.length,h==="m"){if(z+="M ",f==="m"?(m+=w[0],P+=w[1]):(m=w[0],P=w[1]),S=m,N=P,z+=m+" "+P+" ",y>2)for(d=0;d<y;d+=2)f==="m"?(m+=w[d],P+=w[d+1]):(m=w[d],P=w[d+1]),z+="L "+m+" "+P+" "}else if(h==="l")for(d=0;d<y;d+=2)f==="l"?(m+=w[d],P+=w[d+1]):(m=w[d],P=w[d+1]),z+="L "+m+" "+P+" ";else if(h==="h")for(d=0;d<y;d++)f==="h"?m+=w[d]:m=w[d],z+="L "+m+" "+P+" ";else if(h==="v")for(d=0;d<y;d++)f==="v"?P+=w[d]:P=w[d],z+="L "+m+" "+P+" ";else if(h==="q")for(d=0;d<y;d+=4)f==="q"?($=m+w[d],B=P+w[d+1],m+=w[d+2],P+=w[d+3]):($=w[d],B=w[d+1],m=w[d+2],P=w[d+3]),z+="Q "+$+" "+B+" "+m+" "+P+" ";else if(h==="t")for(d=0;d<y;d+=2)["t","q"].indexOf(p)>-1?($=m+(m-$),B=P+(P-B)):($=m,B=P),f==="t"?(m+=w[d],P+=w[d+1]):(m=w[d],P=w[d+1]),z+="Q "+$+" "+B+" "+m+" "+P+" ",p=h;else if(h==="c")for(d=0;d<y;d+=6)f==="c"?($=m+w[d],B=P+w[d+1],q=m+w[d+2],Z=P+w[d+3],m+=w[d+4],P+=w[d+5]):($=w[d],B=w[d+1],q=w[d+2],Z=w[d+3],m=w[d+4],P=w[d+5]),z+="C "+$+" "+B+" "+q+" "+Z+" "+m+" "+P+" ";else if(h==="s")for(d=0;d<y;d+=4)$=m,B=P,["s","c"].indexOf(p)>-1&&($+=m-q,B+=P-Z),f==="s"?(q=m+w[d],Z=P+w[d+1],m+=w[d+2],P+=w[d+3]):(q=w[d],Z=w[d+1],m=w[d+2],P=w[d+3]),z+="C "+$+" "+B+" "+q+" "+Z+" "+m+" "+P+" ";else if(h==="a")for(d=0;d<y;d+=7){j=w[d],Q=w[d+1],at=w[d+2],U=v[d+3];let T=!1;if(U.length>1){let O=parseInt(U[0]),L=parseInt(U[1]),X;U.length>2&&(X=parseFloat(U.substring(2))),w[d+3]=O,w.splice(d+4,0,L),v.splice(d+4,0,"+"),X!==void 0&&w.splice(d+5,0,X),T=!0}U=w[d+3],E=T?w[d+4]:v[d+4],!T&&E.length>1&&(w[d+4]=parseInt(E[0]),w.splice(d+5,0,parseFloat(E.substring(1)))),E=w[d+4],f==="a"?(m+=w[d+5],P+=w[d+6]):(m=w[d+5],P=w[d+6]),z+="A "+j+" "+Q+" "+at+" "+U+" "+E+" "+m+" "+P+" "}else h==="z"&&(z+="Z ",m=S,P=N);p=h}return z.trim()}function r(o){var l=o.trim().split(" "),u,c=l.length,a=c-1,f,h=[],p,w,v,y,d,S=new RegExp("[QAZLCM]",""),N=l.slice(-1)[0].toUpperCase()==="Z";for(f=0;f<c;f++)if(u=l[f],S.test(u)){if(u==="A"){h.push(l[f+5]==="0"?"1":"0"),h.push(l[f+4]),h.push(l[f+3]),h.push(l[f+2]),h.push(l[f+1]),h.push(u),h.push(l[f+7]),h.push(l[f+6]),f+=7;continue}else if(u==="C")y=3,d=2;else if(u==="Q")y=2,d=1;else if(u==="L")y=1,d=1;else if(u==="M")y=1,d=0;else continue;for(y===d&&h.push(u),v=0;v<y;v++)v===d&&h.push(u),p=l[++f],w=l[++f],h.push(w),h.push(p)}else{var m=l.slice(Math.max(f-3,0),3).join(" ");throw post=l.slice(f+1,Math.min(f+4,a)).join(" "),range=m+" ["+u+"] "+post,"Error while trying to reverse normalized SVG path, at position "+f+" ("+range+`).
Either the path is not normalised, or it's malformed.`}h.push("M");var P="",$=h.length-1,B;for(B=$;B>0;B--)P+=h[B]+" ";return N&&(P+="Z"),P=P.replace(/M M/g,"Z M"),P}function i(u,l){l=parseInt(l)==l?l:!1;var u=n(u),c=u.replace(/M/g,"|M").split("|"),a;if(c.splice(0,1),l!==!1&&l>=c.length)return u;if(l===!1)c=c.map(function(h){return r(h.trim())});else{var f=c[l];f&&(a=r(f.trim()),c[l]=a)}return c.reverse().join(" ").replace(/ +/g," ").trim()}var s={normalize:n,reverseNormalized:r,reverse:i};return s})}(xi)),xi.exports}var Cm=Tm();const Ku=Mm(Cm);var pt=(t=>(t.RIGHT="RIGHT",t.BOTTOMRIGHT="BOTTOMRIGHT",t.BOTTOM="BOTTOM",t.BOTTOMLEFT="BOTTOMLEFT",t.LEFT="LEFT",t.TOPLEFT="TOPLEFT",t.TOP="TOP",t.TOPRIGHT="TOPRIGHT",t))(pt||{});function Nm(t,e,n,r){switch(t.pathType){case ue.REFLEXIVE:return Xu(t.source,[e/2,n/2],r);case ue.ARC:return Us(t.source,t.target,r);case ue.ARCREVERSE:return Ku.reverse(Us(t.source,t.target,r));case ue.LINE:return yr(t.source,t.target,r);case ue.LINEREVERSE:return Ku.reverse(yr(t.source,t.target,r));default:return""}}function Rm(t,e,n){return t.id===e.id?ue.REFLEXIVE:n.hasBidirectionalConnection(t,e)?Yu(t,e)?ue.ARCREVERSE:ue.ARC:Yu(t,e)?ue.LINEREVERSE:ue.LINE}function yr(t,e,n){let r,i;if(n.nodeProps.shape===nt.CIRCLE){const s=e.x-t.x,o=e.y-t.y;let l=Math.sqrt(s*s+o*o);l===0&&(l=Number.EPSILON);const u=s/l,c=o/l;r={x:t.x+(n.nodeProps.radius-1)*u,y:t.y+(n.nodeProps.radius-1)*c},e instanceof In?i={x:e.x-(n.nodeProps.radius+n.markerPadding)*u,y:e.y-(n.nodeProps.radius+n.markerPadding)*c}:i={x:e.x,y:e.y}}else if(n.nodeProps.shape===nt.RECTANGLE){const s=t.x+n.nodeProps.width*.5,o=t.y+n.nodeProps.height*.5;let l,u;e instanceof In?(l=e.x+n.nodeProps.width*.5,u=e.y+n.nodeProps.height*.5):(l=e.x,u=e.y);const c=l-s,a=u-o;let f=Math.sqrt(c*c+a*a);f===0&&(f=Number.EPSILON);const h=c/f,p=a/f;r=Ei(s,o,n.nodeProps.width,n.nodeProps.height,h,p,2),e instanceof In?i=Ei(l,u,n.nodeProps.width,n.nodeProps.height,-h,-p,-n.markerPadding+1):i={x:l,y:u}}return`M${r.x},${r.y}
          L${i.x},${i.y}`}function Us(t,e,n){if(n.nodeProps.shape===nt.CIRCLE){const r=new rt([[t.x,t.y]]),i=new rt([[e.x,e.y]]),s=rt.subtract(i,r),o=s.norm("frobenius"),l=s.divide(o),u=Si(10),c=Kt(l,-u).multiply(n.nodeProps.radius-1).add(r),a=rt.multiply(l,-1),f=Kt(a,u).multiply(n.nodeProps.radius).add(i).add(Kt(a,u).multiply(2*n.markerBoxSize)),h=1.2*o;return`M${c.get(0,0)},${c.get(0,1)}
          A${h},${h},0,0,1,${f.get(0,0)},${f.get(0,1)}`}else if(n.nodeProps.shape===nt.RECTANGLE){const r=t.x+n.nodeProps.width*.5,i=t.y+n.nodeProps.height*.5,s=e.x+n.nodeProps.width*.5,o=e.y+n.nodeProps.height*.5,l=new rt([[r,i]]),u=new rt([[s,o]]),c=rt.subtract(u,l),a=c.norm("frobenius"),f=c.divide(a),h=Si(30),p=Ei(r,i,n.nodeProps.width,n.nodeProps.height,f.get(0,0),f.get(0,1),2),w=Kt(f,-h).add([[p.x,p.y]]),v=Ei(s,o,n.nodeProps.width,n.nodeProps.height,-f.get(0,0),-f.get(0,1)),y=rt.multiply(f,-1),d=Kt(y,h).add([[v.x,v.y]]).add(Kt(y,h).multiply(2*n.markerBoxSize)),S=a;return`M${w.get(0,0)},${w.get(0,1)}
          A${S},${S},0,0,1,${d.get(0,0)},${d.get(0,1)}`}else return""}function Xu(t,e,n){const r=new rt([e]);if(n.nodeProps.shape===nt.CIRCLE){const i=new rt([[t.x,t.y]]);i.get(0,0)===r.get(0,0)&&i.get(0,1)===r.get(0,1)&&r.add([[0,1]]);const s=rt.subtract(i,r),o=s.divide(s.norm("frobenius")),l=Si(40),u=Kt(o,l).multiply(n.nodeProps.radius-1).add(i),c=Kt(o,-l).multiply(n.nodeProps.radius).add(i).add(Kt(o,-l).multiply(2*n.markerBoxSize));return`M${u.get(0,0)},${u.get(0,1)}
              A${n.nodeProps.radius},${n.nodeProps.radius},0,1,0,${c.get(0,0)},${c.get(0,1)}`}else return n.nodeProps.shape===nt.RECTANGLE?n.nodeProps.reflexiveEdgeStart=="MOVABLE"?Lm(t,n,r):Im(t,n):""}function Yu(t,e){return t.x>e.x}function Lm(t,e,n){if(e.nodeProps.shape===nt.RECTANGLE){const r=t.x+e.nodeProps.width*.5,i=t.y+e.nodeProps.height*.5,s=new rt([[r,i]]);s.get(0,0)===n.get(0,0)&&s.get(0,1)===n.get(0,1)&&n.add([[0,1]]);const o=rt.subtract(s,n),l=o.divide(o.norm("frobenius")),u=Si(45);let c,a,f=.5*e.nodeProps.width,h=.5*e.nodeProps.height;const p=Om(o.get(0,0),o.get(0,1),30);if(p===pt.BOTTOMLEFT||p===pt.BOTTOMRIGHT||p===pt.TOPLEFT||p===pt.TOPRIGHT){let w=Ju(p,t,e);c=w.start,a=w.end,e.nodeProps.width>e.nodeProps.height?(p===pt.TOPLEFT||p===pt.BOTTOMRIGHT)&&(f=.25*e.nodeProps.width):e.nodeProps.height>e.nodeProps.width&&(p===pt.TOPRIGHT||p===pt.BOTTOMLEFT)&&(h=.25*e.nodeProps.height)}else p===pt.LEFT||p===pt.RIGHT?(c=Kt(l,u).multiply(.5*e.nodeProps.width-1).add(s),a=Kt(l,-u).multiply(.5*e.nodeProps.height-1).add(s).add(Kt(l,-u).multiply(2*e.markerBoxSize))):(c=Kt(l,u).multiply(.5*e.nodeProps.height-1).add(s),a=Kt(l,-u).multiply(.5*e.nodeProps.width-1).add(s).add(Kt(l,-u).multiply(2*e.markerBoxSize)));return`M${c.get(0,0)},${c.get(0,1)} A${f},${h}, 0, 1, 0, ${a.get(0,0)},${a.get(0,1)}`}else return""}function Im(t,e){if(e.nodeProps.shape===nt.RECTANGLE&&e.nodeProps.reflexiveEdgeStart!=="MOVABLE"){let n,r,i=.5*e.nodeProps.width,s=.5*e.nodeProps.height;e.nodeProps.width>e.nodeProps.height?(e.nodeProps.reflexiveEdgeStart===pt.TOPLEFT||e.nodeProps.reflexiveEdgeStart===pt.BOTTOMRIGHT)&&(i=e.nodeProps.width/e.nodeProps.height+e.nodeProps.height):e.nodeProps.height>e.nodeProps.width&&(e.nodeProps.reflexiveEdgeStart===pt.TOPRIGHT||e.nodeProps.reflexiveEdgeStart===pt.BOTTOMLEFT)&&(s=e.nodeProps.height/e.nodeProps.width+e.nodeProps.width);let o=Ju(e.nodeProps.reflexiveEdgeStart,t,e);return n=o.start,r=o.end,`M${n.get(0,0)},${n.get(0,1)} A${i},${s}, 0, 1, 0, ${r.get(0,0)},${r.get(0,1)}`}else return""}function Ei(t,e,n,r,i,s,o=0){const l=t-.5*n,u=t+.5*n,c=e-.5*r,a=e+.5*r;i===0&&(i=Number.EPSILON),s===0&&(s=Number.EPSILON);const f=i<0?l:u,h=s<0?c:a,p=(f-t)/i,w=(h-e)/s,v=Math.min(p,w);let y=t+v*i,d=e+v*s;if(o!==0)if(p<w){let S;f===l?S=1:S=-1,y=y+o*S}else{let S;h===c?S=1:S=-1,d=d+o*S}return{x:y,y:d}}function Om(t,e,n=30){let r=$m(Math.atan2(t,e));return r<0&&(r+=360),pn(r,0,n)?pt.BOTTOMLEFT:pn(r,[0,90],-n)?pt.BOTTOM:pn(r,90,n)?pt.BOTTOMRIGHT:pn(r,[90,180],-n)?pt.RIGHT:pn(r,180,n)?pt.TOPRIGHT:pn(r,[180,270],-n)?pt.TOP:pn(r,270,n)?pt.TOPLEFT:pt.LEFT}function Ju(t,e,n){const r=e.x,i=e.y,s=n.nodeProps.shape===nt.RECTANGLE?n.nodeProps.width:n.nodeProps.radius,o=n.nodeProps.shape===nt.RECTANGLE?n.nodeProps.height:n.nodeProps.radius,l=n.markerBoxSize,u={[pt.BOTTOMLEFT]:{start:[r+2,i+o-1],end:[r+s-2*l,i+o+2*l]},[pt.BOTTOM]:{start:[r+.5*s,i+o-1],end:[r+s+2*l,i+.5*o]},[pt.BOTTOMRIGHT]:{start:[r+s-2,i+o-1],end:[r+s+2*l,i+2*l]},[pt.RIGHT]:{start:[r+s-1,i+.5*o],end:[r+.5*s,i-2*l]},[pt.TOPRIGHT]:{start:[r+s-2,i+1],end:[r+2*l,i-2*l]},[pt.TOP]:{start:[r+.5*s,i+1],end:[r-2*l,i+.5*o]},[pt.TOPLEFT]:{start:[r+2,i+1],end:[r-2*l,i+o-2*l]},[pt.LEFT]:{start:[r+1,i+.5*o],end:[r+.5*s,i+o+2*l]}},{start:c,end:a}=u[t];return{start:new rt([c]),end:new rt([a])}}function pn(t,e,n=0){t=(t+360)%360;let r,i;return typeof e=="number"?(r=(e-n+360)%360,i=(e+n)%360):(r=(e[0]-n+360)%360,i=(e[1]+n)%360),r<i?t>=r&&t<=i:t>=r||t<=i}function Si(t){return t*(Math.PI/180)}function $m(t){return t*(180/Math.PI)}function Kt(t,e){const n=t.get(0,0),r=t.get(0,1);return new rt([[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]])}class Am{persistSettingsLocalStorage=!1;hasToolbar=!1;_nodeProps={shape:nt.RECTANGLE,width:128,height:48,cornerRadius:4,reflexiveEdgeStart:"MOVABLE"};showNodeLabels=!0;nodePhysicsEnabled=!1;isGraphEditableInGUI=!0;zoomEnabled=!0;showLinkLabels=!0;fixedLinkDistanceEnabled=!1;markerBoxSize=4;_markerPadding=2*this.markerBoxSize;set nodeSize(e){this.nodeProps.shape===nt.CIRCLE?typeof e=="number"?this.nodeProps.radius=e:this.nodeProps.radius=e.radius??24:this.nodeProps.shape===nt.RECTANGLE&&(typeof e=="number"?(this.nodeProps.width=e,this.nodeProps.height=e):(this.nodeProps.width=e.width??48,this.nodeProps.height=e.height??48))}get nodeSize(){return this.nodeProps.shape===nt.CIRCLE?{radius:this.nodeProps.radius}:{width:this.nodeProps.width,height:this.nodeProps.height}}set nodeProps(e){this._nodeProps=e,e.shape===nt.CIRCLE?this.nodeSize=e.radius:e.shape===nt.RECTANGLE&&(this.nodeSize={width:e.width,height:e.height})}get nodeProps(){return this._nodeProps}get markerPadding(){return this._markerPadding}get markerRef(){return this.markerBoxSize/2}get arrowPoints(){return[[0,0],[0,this.markerBoxSize],[this.markerBoxSize,this.markerBoxSize/2]]}get markerPath(){return[0,0,this.markerBoxSize,this.markerBoxSize].join(",")}get isCanvasBoundToView(){return!this.zoomEnabled}}function Fm(t){const e=t.replace(/\r\n/g,`
`).split(`
`),n=e.findIndex(l=>l.trim().startsWith("#")),r=n!==-1?e.slice(0,n):e,i=n!==-1?e.slice(n+1):[],s=[];if(r.length)for(const l of r){let[,u,c,a]=(l.match(/(\w+) (.*) \/COLOR:\/(.+)/)||l.match(/(\w+) (.*)/)||l.match(/(\w+)/)||[]).map(f=>f.trim());c?.includes("/COLOR:/")&&(a=c,c=""),u&&s.push({idImported:u,label:c,color:a?.replace("/COLOR:/","")})}const o=[];if(i.length)for(const l of i){let[,u,c,a,f]=(l.match(/(\w+) (\w+) (.*) \/COLOR:\/(.+)/)||l.match(/(\w+) (\w+) (.*)/)||l.match(/(\w+) (\w+)/)||[]).map(h=>h.trim());a?.includes("/COLOR:/")&&(f=a,a=""),u&&c&&o.push({sourceIdImported:u,targetIdImported:c,label:a,color:f?.replace("/COLOR:/","")})}return[s,o]}function jm(t){const e=[];for(let r of t.nodes)e.push({idImported:r.id,x:r.x,y:r.y,label:r.label,color:r.color,fixedPosition:r.fixedPosition,deletable:r.deletable,labelEditable:r.labelEditable,allowIncomingLinks:r.allowIncomingLinks,allowOutgoingLinks:r.allowOutgoingLinks});const n=[];for(let r of t.links)n.push({sourceIdImported:r.sourceId,targetIdImported:r.targetId,label:r.label,color:r.color,deletable:r.deletable,labelEditable:r.labelEditable});return[e,n]}const Bm={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Qu={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Rt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Xt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},en={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class R{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=R.getVersionPrecision(e),s=R.getVersionPrecision(n);let o=Math.max(i,s),l=0;const u=R.map([e,n],c=>{const a=o-R.getVersionPrecision(c),f=c+new Array(a+1).join(".0");return R.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(r&&(l=o-Math.min(i,s)),o-=1;o>=l;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===l)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const s=e[r];if(n(s,r))return s}}static assign(e,...n){const r=e;let i,s;if(Object.assign)return Object.assign(e,...n);for(i=0,s=n.length;i<s;i+=1){const o=n[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{r[u]=o[u]})}return e}static getBrowserAlias(e){return Bm[e]}static getBrowserTypeByAlias(e){return Qu[e]||""}}const bt=/version\/(\d+(\.?_?\d+)+)/i,Dm=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=R.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=R.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=R.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=R.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=R.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=R.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=R.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=R.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=R.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=R.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=R.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=R.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=R.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=R.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=R.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=R.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=R.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=R.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=R.getFirstMatch(bt,t)||R.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=R.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=R.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=R.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=R.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=R.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=R.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=R.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=R.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=R.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=R.getFirstMatch(bt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:R.getFirstMatch(i,t),version:R.getSecondMatch(i,t)}}}],Vm=[{test:[/Roku\/DVP/],describe(t){const e=R.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Xt.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=R.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Xt.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=R.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=R.getWindowsVersionName(e);return{name:Xt.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Xt.iOS},n=R.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=R.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=R.getMacOSVersionName(e),r={name:Xt.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=R.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Xt.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=R.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=R.getAndroidVersionName(e),r={name:Xt.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=R.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Xt.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=R.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||R.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||R.getFirstMatch(/\bbb(\d+)/i,t);return{name:Xt.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=R.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Xt.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=R.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Xt.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Xt.Linux}}},{test:[/CrOS/],describe(){return{name:Xt.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=R.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Xt.PlayStation4,version:e}}}],zm=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=R.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Rt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Rt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Rt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Rt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Rt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Rt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Rt.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=R.getFirstMatch(/(ipod|iphone)/i,t);return{type:Rt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Rt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Rt.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Rt.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Rt.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Rt.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Rt.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Rt.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Rt.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Rt.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Rt.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Rt.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Rt.tv}}}],Gm=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:en.Blink};const n=R.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:en.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:en.Trident},n=R.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:en.Presto},n=R.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:en.Gecko},n=R.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:en.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:en.WebKit},n=R.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class Zu{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=R.find(Dm,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=R.find(Vm,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=R.find(zm,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=R.find(Gm,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return R.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let s=0;if(Object.keys(e).forEach(l=>{const u=e[l];typeof u=="string"?(i[l]=u,s+=1):typeof u=="object"&&(n[l]=u,r+=1)}),r>0){const l=Object.keys(n),u=R.find(l,a=>this.isOS(a));if(u){const a=this.satisfies(n[u]);if(a!==void 0)return a}const c=R.find(l,a=>this.isPlatform(a));if(c){const a=this.satisfies(n[c]);if(a!==void 0)return a}}if(s>0){const l=Object.keys(i),u=R.find(l,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=R.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(R.compareVersions(s,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Hm{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Zu(e,n)}static parse(e){return new Zu(e).getResult()}static get BROWSER_MAP(){return Qu}static get ENGINE_MAP(){return en}static get OS_MAP(){return Xt}static get PLATFORMS_MAP(){return Rt}}const qm=Qi({__name:"GraphComponent",setup(t,{expose:e}){const n=hs(()=>{const g=document.querySelectorAll("graph-component");let b;for(let M=0;M<g.length;M++){const k=g[M],G=Tt(k.shadowRoot);let V;if(G.empty()?V=Tt(".graph-controller__graph-host.uninitialised"):V=G.select(".graph-controller__graph-host.uninitialised"),!V.empty()){V.classed("uninitialised",!1),b=V;break}}return b===void 0&&(b=Tt(".graph-controller__graph-host.uninitialised"),b.classed("uninitialised",!1)),b}),r=hs(()=>{let g=n.value.node().parentElement;g||(g=n.value.node().getRootNode().host);let b=g.getAttribute("id");return b||"gc"});Ao(()=>{_()}),Fo(()=>{x(),window.addEventListener("resize",ia)}),Zi(()=>{window.removeEventListener("resize",ia)});const s=Hm.getParser(window.navigator.userAgent).getPlatformType(!0);let o=!1,l={x:-1e5,y:-1e5};const u=Eo(new Au),c=Eo(!1),a=Cr(new Am);let f,h=400,p=400,w,v,y,d,S,N,m,P,$,B=0,q=0,Z=1,j,Q;e({getGraph:at,setGraph:U,printGraph:E,deleteElement:z,setLabel:T,setColor:O,setNodeSize:L,setNodeShape:X,setNodeProps:J,setDeletable:it,setLabelEditable:ot,setNodesLinkPermission:St,setNodesFixedPosition:wt,setEditability:yt,toggleNodeLabels:It,toggleLinkLabels:Mt,toggleZoom:Yt,toggleNodePhysics:Pt,toggleFixedLinkDistance:xt,toggleGraphEditingInGUI:Oe,resetView:mn});function at(g="json",b=!0,M=!0,k=!0){if(g.toLowerCase()==="json")return JSON.parse(u.value.toJSON(a.showLinkLabels,a.showLinkLabels,b,b,M,k,k));if(g.toLowerCase()==="tgf")return u.value.toTGF(a.showNodeLabels,a.showLinkLabels,!0,!0);console.error('Invalid format while using getGraph(). Please choose "JSON" or "TGF".')}function U(g){typeof g=="object"||typeof g=="string"?Ym(g):sa()}function E(g="json",b=!0,M=!0,k=!0){g.toLowerCase()==="json"?console.log(u.value.toJSON(a.showLinkLabels,a.showLinkLabels,b,b,M,k,k)):console.log(u.value.toTGF(a.showNodeLabels,a.showLinkLabels))}function z(g){if(g!==void 0){const[b,M]=Ze(g);for(const k of b)S.filter(G=>G.id===k).each(function(G){let V=u.value.removeNode(G);if(V!==void 0){let[ft,xe]=V;mi(ft,n.value),xe.forEach(kt=>{dn(kt,n.value)})}});for(const k of M)d.filter(G=>G.id===k).each(function(G){let V=u.value.removeLink(G);V!==void 0&&dn(V,n.value)})}else S.each(function(b){let M=u.value.removeNode(b);if(M!==void 0){let[k,G]=M;mi(k,n.value),G.forEach(V=>{dn(V,n.value)})}}),d.each(function(b){let M=u.value.removeLink(b);M!==void 0&&dn(M,n.value)});c.value=u.value.nodes.length>0,H()}function T(g,b){if(b!==void 0){const[M,k]=Ze(b);for(const G of M)S.filter(V=>V.id===G).each(V=>{_r(V,g)});for(const G of k)d.filter(V=>V.id===G).each(V=>{_r(V,g)})}else S.each(M=>{_r(M,g)}),d.each(M=>{_r(M,g)})}function O(g,b){if(b!==void 0){const[M,k]=Ze(b);ra(k);for(const G of M)S.selectAll(".graph-controller__node").filter(V=>V.id===G).each(V=>V.color=g).style("fill",g);for(const G of k)d.selectAll(".graph-controller__link").filter(V=>V.id===G).each(V=>V.color=g).style("stroke",g)}else S.selectAll(".graph-controller__node").each(M=>M.color=g).style("fill",g),ra(u.value.links.map(M=>M.id)),d.selectAll(".graph-controller__link").each(M=>M.color=g).style("stroke",g);Gs(y,r.value,a,g),H()}function L(g,b){typeof g=="number"&&typeof b=="number"&&a.nodeProps.shape===nt.RECTANGLE?a.nodeSize={width:g,height:b}:typeof g=="number"||a.nodeProps.shape===nt.CIRCLE&&On(["radius"],Object.keys(g),!1)||a.nodeProps.shape===nt.RECTANGLE&&On(["width","height"],Object.keys(g),!1)?a.nodeSize=g:tn("Invalid Size Object",`For circular nodes: {radius: number}
For rectangular nodes: {width: number, height: number}`),mn()}function X(g){if(g==="circle")g=nt.CIRCLE;else if(g==="rect")g=nt.RECTANGLE;else{tn("Invalid Shape",`For circular nodes: 'circle'
For rectangular nodes: 'rect'`);return}let b=a.nodeSize;if(a.nodeProps.shape!==g){if(g===nt.CIRCLE){a.nodeProps={shape:g,radius:b.width/2};for(let M of u.value.nodes)M.x=M.x+a.nodeProps.radius,M.y=M.y+a.nodeProps.radius}else if(g===nt.RECTANGLE){a.nodeProps={shape:g,width:b.radius*2,height:b.radius*2,cornerRadius:4,reflexiveEdgeStart:"MOVABLE"};for(let M of u.value.nodes)M.x=M.x-a.nodeProps.width/2,M.y=M.y-a.nodeProps.height/2}mn()}}function J(g){if(On(["shape"],Object.keys(g),!1)){if(g.shape===nt.CIRCLE){const b=["shape","radius"];On(b,Object.keys(g),!0)&&(a.nodeProps=g),mr(b,Object.keys(g))}else if(g.shape===nt.RECTANGLE){const b=["shape","width","height","cornerRadius","reflexiveEdgeStart"];On(b,Object.keys(g),!0)&&(Object.values(pt).includes(g.reflexiveEdgeStart)||g.reflexiveEdgeStart==="MOVABLE"?a.nodeProps=g:tn("Invalid reflexiveEdgeStart Value","Use RIGHT, BOTTOMRIGHT, BOTTOM, BOTTOMLEFT, LEFT, TOPLEFT, TOP, TOPRIGHT or MOVABLE.")),mr(b,Object.keys(g))}mn()}else tn("Invalid NodeProps Object",`For circular nodes: {shape: NodeShape, radius: number}
For rectangular nodes: {shape: 'rect', width: number, height: number, cornerRadius: number, reflexiveEdgeStart: SideType | 'MOVABLE'}`)}function it(g,b){if(b!==void 0){const[M,k]=Ze(b);for(const G of M)S.filter(V=>V.id===G).each(V=>{V.deletable=g});for(const G of k)d.filter(V=>V.id===G).each(V=>{V.deletable=g})}else S.each(M=>{M.deletable=g}),d.each(M=>{M.deletable=g})}function ot(g,b){if(b!==void 0){const[M,k]=Ze(b);for(const G of M)S.filter(V=>V.id===G).each(V=>{V.labelEditable=g});for(const G of k)d.filter(V=>V.id===G).each(V=>{V.labelEditable=g})}else S.each(M=>{M.labelEditable=g}),d.each(M=>{M.labelEditable=g})}function St(g,b,M){if(M!==void 0){const[k,G]=Ze(M);for(const V of k)S.filter(ft=>ft.id===V).each(ft=>{ft.allowIncomingLinks=g,ft.allowOutgoingLinks=b})}else S.each(k=>{k.allowIncomingLinks=g,k.allowOutgoingLinks=b})}function wt(g,b){if(b!==void 0){const[M,k]=Ze(b);for(const G of M)S.filter(V=>V.id===G).each(V=>{wi(V,g)})}else S.each(M=>{wi(M,g)})}function yt(g,b){const M=["fixedPosition","deletable","labelEditable","allowIncomingLinks","allowOutgoingLinks"],k=["deletable","labelEditable"];if(b!==void 0){const[G,V]=Ze(b),ft=G.length===0;for(const xe of G)S.filter(kt=>kt.id===xe).each(function(kt){kt.deletable=g.deletable??kt.deletable,kt.labelEditable=g.labelEditable??kt.labelEditable,"fixedPosition"in g&&wi(kt,g.fixedPosition),"allowIncomingLinks"in g&&(kt.allowIncomingLinks=g.allowIncomingLinks??kt.allowIncomingLinks),"allowOutgoingLinks"in g&&(kt.allowOutgoingLinks=g.allowOutgoingLinks??kt.allowOutgoingLinks)});for(const xe of V)d.selectAll(".graph-controller__link").filter(kt=>kt.id===xe).each(function(kt){kt.deletable=g.deletable??kt.deletable,kt.labelEditable=g.labelEditable??kt.labelEditable});mr(ft?k:M,Object.keys(g))}else S.each(function(G){G.deletable=g.deletable??G.deletable,G.labelEditable=g.labelEditable??G.labelEditable,"fixedPosition"in g&&wi(G,g.fixedPosition),"allowIncomingLinks"in g&&(G.allowIncomingLinks=g.allowIncomingLinks??G.allowIncomingLinks),"allowOutgoingLinks"in g&&(G.allowOutgoingLinks=g.allowOutgoingLinks??G.allowOutgoingLinks)}),d.selectAll(".graph-controller__link").each(function(G){G.deletable=g.deletable??G.deletable,G.labelEditable=g.labelEditable??G.labelEditable}),mr(M,Object.keys(g));H()}function Pt(g){a.nodePhysicsEnabled=g,Du(f,g,h,p)}function xt(g){a.fixedLinkDistanceEnabled=g,Vu(f,u.value,a,g)}function Mt(g){a.showLinkLabels=g}function It(g){a.showNodeLabels=g}function Yt(g){a.zoomEnabled=g,mn()}function Oe(g){a.isGraphEditableInGUI=g}function _(){const g=b=>b==="false"?!1:!!b;localStorage.showNodeLabels&&(a.showNodeLabels=g(localStorage.showNodeLabels)),localStorage.enableNodePhysics&&(a.nodePhysicsEnabled=g(localStorage.enableNodePhysics)),localStorage.showLinkLabels&&(a.showLinkLabels=g(localStorage.showLinkLabels)),localStorage.enableFixedLinkDistance&&(a.fixedLinkDistanceEnabled=g(localStorage.enableFixedLinkDistance)),localStorage.enableZoom&&(a.zoomEnabled=g(localStorage.enableZoom)),localStorage.persistSettings&&(a.persistSettingsLocalStorage=g(localStorage.persistSettings))}function x(){h=n.value.node().clientWidth,p=n.value.node().clientHeight,w=m0(g=>C(g,a.zoomEnabled),a.zoomEnabled),y=S0(n.value,w,g=>a.isGraphEditableInGUI?Bt(g):null,g=>a.isGraphEditableInGUI?_t(g):null,g=>{a.isGraphEditableInGUI&&(a.nodeProps.shape===nt.RECTANGLE?I(Zt(g,y.node())[0]-.5*a.nodeProps.width,Zt(g,y.node())[1]-.5*a.nodeProps.height):I(Zt(g,y.node())[0],Zt(g,y.node())[1]))}),N0(y,r.value,a,u.value.getNonDefaultLinkColors()),N=R0(y),d=M0(y),S=k0(y),f=X0(u.value,a,h,p,()=>A()),v=E0(f,h,p,a),H()}function C(g,b=!0){b&&(B=g.transform.x,q=g.transform.y,Z=g.transform.k,y.attr("transform",`translate(${B},${q})scale(${Z})`))}function F(g,b,M,k,G=!0,V=!0){let ft=u.value.createLink(g.id,b.id,M,k,G,V);ft!==void 0&&_0(ft,n.value),H()}function I(g,b,M,k,G,V,ft={x:!1,y:!1},xe=!0,kt=!0,Ws=!0,Qm=!0){let Zm=u.value.createNode(g??h/2,b??p/2,M,k,G,V,ft,xe,kt,Ws,Qm);y0(Zm,n.value),c.value=!0,H()}function A(){S.attr("transform",g=>`translate(${g.x},${g.y})`),d.selectAll(".graph-controller__link, .graph-controller__link-click-box").attr("d",g=>(K(g),Nm(g,h,p,a))),tt()}function K(g){let b=g.pathType;g.pathType=Rm(g.source,g.target,u.value),b!==g.pathType&&H()}function W(){const g=m,b=Tt(n.value.node().querySelector(`#${r.value+"-node-"+g.id}`)).classed("on-deletion");if(g!==void 0&&!b){const M=P;M!==void 0?N.attr("d",()=>g.id===M.id?Xu(g,[h/2,p/2],a):u.value.hasBidirectionalConnection(g,M)?yr(g,M,a):Us(g,M,a)):$!==void 0&&N.attr("d",yr(g,{x:$[0],y:$[1]},a))}}function H(g=.5){d=d.data(u.value.links,b=>b.id).join(b=>{const M=b.append("g").classed("graph-controller__link-container",!0);return M.append("path").classed("graph-controller__link",!0).style("stroke",k=>k.color?k.color:"").attr("id",k=>r.value+"-link-"+k.id),M.append("path").classed("graph-controller__link-click-box",!0).on("dblclick",k=>{le(k)}).on("pointerout",k=>gn(k)).on("pointerdown",(k,G)=>{b0(G,k.button,n.value),a.isGraphEditableInGUI&&Jt(k,G)}).on("pointerup",(k,G)=>{Pi(k,G)}),M.append("text").attr("class",k=>`graph-controller__${k.pathType?.toLowerCase()}-path-text`).append("textPath").attr("class",k=>k.label?"graph-controller__link-label":"graph-controller__link-label-placeholder").attr("href",k=>`#${r.value+"-link-"+k.id}`).text(k=>k.label?k.label:"add label").on("click",(k,G)=>{a.isGraphEditableInGUI&&ta(k,G)}).on("dblclick",k=>{le(k)}),M.append("foreignObject").classed("graph-controller__link-label-mathjax-container",!0).attr("xmlns","http://www.w3.org/2000/svg").attr("width",1).attr("height",1).html(k=>`<div class='${k.label?"graph-controller__link-label":"graph-controller__link-label-placeholder"}'>
                        </div>`).on("click",(k,G)=>{a.isGraphEditableInGUI&&ta(k,G)}).on("dblclick",k=>{le(k)}),M}),d.selectChild(".graph-controller__link").attr("marker-start",function(b){if(b.pathType?.includes("REVERSE")){let M=`url(#${r.value}-link-arrow-reverse`;return b.color&&(M+="-"+gr(b.color)),M+=")",M}else return null}).attr("marker-end",function(b){if(b.pathType?.includes("REVERSE"))return null;{let M=`url(#${r.value}-link-arrow`;return b.color&&(M+="-"+gr(b.color)),M+=")",M}}),d.selectChild("text").attr("class",b=>`graph-controller__${b.pathType?.toLowerCase()}-path-text`).attr("dy",b=>b.pathType===ue.REFLEXIVE?15:b.pathType==ue.LINEREVERSE?-10:b.pathType?.includes("REVERSE")?20:-10).selectChild("textPath").attr("class",b=>b.label?"graph-controller__link-label":"graph-controller__link-label-placeholder").classed("hidden",b=>!a.showLinkLabels||!b.label&&!b.labelEditable).classed("not-editable",!a.isGraphEditableInGUI).attr("startOffset",b=>b.pathType?.includes("REVERSE")?"46%":"50%").text(b=>b.label?b.label:"add label"),S=S.data(u.value.nodes,b=>b.id).join(b=>{const M=b.append("g").classed("graph-controller__node-container",!0).call(v).on("dblclick",V=>{le(V)}).on("pointerenter",(V,ft)=>ae(ft)).on("pointerout",(V,ft)=>ce(ft)).on("pointerdown",(V,ft)=>{v0(ft,V.button,n.value),l={x:V.x,y:V.y},a.isGraphEditableInGUI&&Y(V,ft)}).on("pointerup",(V,ft)=>{a.isGraphEditableInGUI&&_t(V,ft)}),k=M.append(a.nodeProps.shape).classed("graph-controller__node",!0).attr("id",V=>`${r.value+"-node-"+V.id}`).style("fill",V=>V.color?V.color:"");a.nodeProps.shape===nt.CIRCLE?k.attr("r",a.nodeProps.radius):a.nodeProps.shape===nt.RECTANGLE&&k.attr("width",a.nodeProps.width).attr("height",a.nodeProps.height).attr("rx",a.nodeProps.cornerRadius).attr("ry",a.nodeProps.cornerRadius);const G=M.append("foreignObject").classed("graph-controller__node-label-container",!0).attr("xmlns","http://www.w3.org/2000/svg");return a.nodeProps.shape===nt.CIRCLE?G.attr("width",2*a.nodeProps.radius).attr("height",2*a.nodeProps.radius).attr("x",-a.nodeProps.radius).attr("y",-a.nodeProps.radius):a.nodeProps.shape===nt.RECTANGLE&&G.attr("width",a.nodeProps.width).attr("height",a.nodeProps.height),G.append("xhtml:div").on("click",(V,ft)=>{a.isGraphEditableInGUI&&Wm(V,ft)}).on("dblclick",V=>{le(V)}).on("pointerenter",(V,ft)=>ae(ft)).on("pointerout",(V,ft)=>ce(ft)),M},b=>(a.nodeProps.shape===nt.CIRCLE?b.selectChild(".graph-controller__node").attr("r",a.nodeProps.radius):a.nodeProps.shape===nt.RECTANGLE&&b.selectChild(".graph-controller__node").attr("width",a.nodeProps.width).attr("height",a.nodeProps.height).attr("rx",a.nodeProps.cornerRadius).attr("ry",a.nodeProps.cornerRadius),b.selectChild("foreignObject").selectChild("div").classed("hidden",M=>!a.showNodeLabels||!M.label&&!M.labelEditable).classed("not-editable",!a.isGraphEditableInGUI),b)),S.selectChild("foreignObject").selectChild("div").attr("class",b=>b.label?"graph-controller__node-label":"graph-controller__node-label-placeholder").classed("hidden",b=>!a.showNodeLabels||!b.label&&!b.labelEditable).text(b=>b.label?b.label:"add label"),window.MathJax?.version&&window.MathJax.typesetPromise().then(()=>{D()}),f.nodes(u.value.nodes),f.alpha(g).restart()}function D(){d.selectChild("text").selectChild("textPath").selectChild("mjx-container").each(function(g){const b=this,M=g,k=Tt(b.parentNode.parentNode.parentNode).selectChild("foreignObject").selectChild("div").attr("class","graph-controller__link-label").classed("hidden",!a.showLinkLabels||!M.label&&!M.labelEditable).node();k.replaceChild(b,k.childNodes[0])}),d.selectChild("text").selectChild("textPath").each(function(){const g=this;let b=!1;g.childNodes.forEach(k=>{k?.nodeType===Node.TEXT_NODE&&k?.textContent?.trim()!==""&&(b=!0)}),b||Tt(g).text("I").attr("class","graph-controller__link-label-placeholder mjx-hidden")}),tt()}function tt(){d.selectChild("text").selectChild("textPath").each(function(){const g=this,[b,M]=na(g);Tt(g.parentNode.parentNode).select("foreignObject").attr("x",b).attr("y",M)})}function Y(g,b){(g.button===2||g.pointerType==="touch")&&($u(g),b.allowOutgoingLinks&&ht(b),b.deletable&&(j=setTimeout(()=>{P=void 0,et(b)},250)))}function et(g){let b=n.value.node().querySelector(`#${r.value+"-node-"+g.id}`);Tt(b).classed("on-deletion",!0);let M=Tt(b.parentElement);if(a.nodeProps.shape===nt.CIRCLE){let k=r0().outerRadius(a.nodeProps.radius+4).innerRadius(a.nodeProps.radius),G=[{startAngle:0,endAngle:0}];M.append("g").attr("class","arc").selectAll("path.arc").data(G).enter().append("path").attr("class","arc").style("fill","black").style("opacity",.7).transition().duration(750).ease(Eu).attrTween("d",function(ft){let xe={startAngle:0,endAngle:2*Math.PI},kt=Ts(ft,xe);return function(Ws){return k(kt(Ws))}}).on("end",()=>st(g))}else if(a.nodeProps.shape===nt.RECTANGLE){const k=T0(a.nodeProps.width,a.nodeProps.height,a.nodeProps.cornerRadius);let G=M.append("path").attr("fill","none").attr("stroke","black").attr("stroke-width",4).attr("opacity","0.7").attr("d",k),V=2*a.nodeProps.width+2*a.nodeProps.height;G.attr("stroke-dasharray",V).attr("stroke-dashoffset",V).transition().duration(750).ease(Eu).attr("stroke-dashoffset",0).on("end",()=>st(g))}}function st(g){if(a.isGraphEditableInGUI){let b=u.value.removeNode(g);if(b!==void 0){let[M,k]=b;mi(M,n.value),k.forEach(G=>{dn(G,n.value)})}c.value=u.value.nodes.length>0,ki(),H()}}function ht(g){$=a.nodeProps.shape===nt.CIRCLE?[g.x,g.y]:[g.x+.5*a.nodeProps.width,g.y+.5*a.nodeProps.height],m=g,N.attr("marker-end",`url(#${r.value}-draggable-link-arrow)`).classed("hidden",!1).attr("d",yr(g,{x:$[0],y:$[1]},a))}function _t(g,b=void 0){le(g),clearTimeout(j),b&&gt(b),g.pointerType==="mouse"||(g.pointerType==="touch"||g.pointerType==="pen")&&!C0({x:l.x,y:l.y},{x:g.x,y:g.y})?At():ki()}function gt(g){let b=n.value.node().querySelector(`#${r.value+"-node-"+g.id}`),M=Tt(b),k=Tt(b.parentElement);a.nodeProps.shape===nt.CIRCLE?(M.classed("on-deletion",!1),k.select("g.arc").select("path.arc").interrupt().remove(),k.select("g.arc").remove()):a.nodeProps.shape===nt.RECTANGLE&&(M.classed("on-deletion")&&k.select("path").attr("stroke-dasharray",2*a.nodeProps.width+2*a.nodeProps.height).attr("stroke-dashoffset",0).transition().attr("stroke-dashoffset",2*a.nodeProps.width+2*a.nodeProps.height).on("end",()=>{k.select("path").remove()}),M.classed("on-deletion",!1))}function At(){const g=m,b=P;ki(),!(g===void 0||b===void 0)&&F(g,b)}function Bt(g){if(le(g),m!==void 0){const b=_d(g,n.value.node())[0];$=[(b[0]-B)/Z,(b[1]-q)/Z],W()}}function ae(g){g.allowIncomingLinks&&(P=g)}function ce(g){g&&gt(g),P=void 0,clearTimeout(j)}function gn(g){le(g),clearTimeout(Q)}function Pi(g,b){le(g),clearTimeout(Q),(g.button===2||g.pointerType==="touch")&&b.deletable&&Um(b)}function Jt(g,b){(g.button===2||g.pointerType==="touch")&&($u(g),b.deletable&&(Q=setTimeout(()=>{ge(b)},250)))}function ge(g){let b=n.value.node().querySelector(`#${r.value+"-link-"+g.id}`);if(Tt(b).classed("on-deletion",!0),b instanceof SVGPathElement){let M=Tt(b),k=b.getTotalLength(),G=b.parentElement.querySelector("text"),V=Array.from(G.classList).some(kt=>kt.includes("reverse")),ft=0,xe=V?k:-k;M.attr("stroke-dasharray",k).attr("stroke-dashoffset",ft).transition().duration(750).attr("stroke-dashoffset",xe).on("end",()=>Mi(g))}}function Mi(g){let b=g.color;if(a.isGraphEditableInGUI){let M=u.value.removeLink(g);M!==void 0&&dn(M,n.value),b&&(u.value.hasNonDefaultLinkColor(b)||Hs(y,r.value,b))}H()}function Um(g){let b=n.value.node().querySelector(`#${r.value+"-link-"+g.id}`);if(Tt(b).classed("on-deletion")&&b instanceof SVGPathElement){let M=Tt(b),k=b.getTotalLength();M.attr("stroke-dasharray",k).attr("stroke-dashoffset",k).transition().attr("stroke-dashoffset",0).on("end",()=>{M.attr("stroke-dasharray",null).attr("stroke-dashoffset",null)})}Tt(b).classed("on-deletion",!1)}function Wm(g,b){if(le(g),b.labelEditable){let M=a.nodeProps.shape===nt.CIRCLE?[b.x,b.y]:[b.x+.5*a.nodeProps.width,b.y+.5*a.nodeProps.height];ea(b,M)}}function ta(g,b){if(b.labelEditable){let M=g.target,k;M.nodeName==="textPath"?k=M:k=M.closest(".graph-controller__link-container").querySelector("textPath");let G=na(k);ea(b,G)}}function ea(g,b){let M=g instanceof In?"node":"link";const k=document.createElement("input");k.setAttribute("class","graph-controller__label-input"),k.setAttribute("id",`${M}-label-input-field`),g.label==null?k.value="":k.value=g.label,k.placeholder=`Enter ${M} label`;const G=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");G.setAttribute("width","100%"),G.setAttribute("height","100%"),G.setAttribute("x",`${b[0]-90}`),G.setAttribute("y",`${b[1]-12}`),G.append(k),n.value.select("svg").select("g").node().append(G),k.focus(),s!=="desktop"&&(o=!0),k.ondblclick=function(ft){le(ft)};let V=!1;k.onkeyup=function(ft){ft.key==="Enter"?(V=!0,k.blur()):ft.key==="Escape"&&(k.value="",k.blur())},k.onblur=function(){V&&_r(g,k.value.trim()),G.remove(),s!=="desktop"&&(o=!1)}}function _r(g,b){x0(g,b,n.value),g.label=b,H();let M=g instanceof In?"node":"link";M==="link"?Km(g):M==="node"&&b!==""&&Xm(g)}function Km(g){const b=n.value.node().querySelector(`#${r.value+"-link-"+g.id}`).parentElement;b.querySelector("mjx-container")?.remove(),b.querySelector("div").setAttribute("class","graph-controller__link-label-placeholder"),H()}function Xm(g){const b=n.value.node().querySelector(`#${r.value+"-node-"+g.id}`).parentElement;if(b){const M=b.parentElement;b.remove(),M.append(b)}}function na(g){let b=n.value.select("svg").node().getBoundingClientRect(),M=g.getBoundingClientRect(),k=(M.x-b.x-B)/Z,G=(M.y-b.y-q)/Z;return[k,G]}function ki(){N?.classed("hidden",!0).attr("marker-end","null"),m=void 0,P=void 0,$=void 0}function Ym(g){let b,M;try{if(typeof g=="string")[b,M]=Fm(g);else if(typeof g=="object")[b,M]=jm(g);else{tn("Invalid graph import type:","Must either be TGF or JSON.");return}}catch(k){tn("Error during parsing:",`Invalid data format:
`+k);return}sa(),Jm(b,M)}function Jm(g,b){for(let k of g)I(k.x,k.y,k.idImported,k.label,k.color,a.nodeProps.shape,k.fixedPosition,k.deletable,k.labelEditable,k.allowIncomingLinks,k.allowOutgoingLinks);const M=k=>u.value.nodes.find(G=>G.idImported===k);for(let k of b){let G=M(k.sourceIdImported),V=M(k.targetIdImported);G&&V&&(F(G,V,k.label,k.color,k.deletable,k.labelEditable),k.color&&Gs(y,r.value,a,k.color))}}function ra(g){for(let b of g){const M=u.value.links.filter(k=>k.id===b).map(k=>k.color).shift();M&&(u.value.hasNonDefaultLinkColor(M,b)?u.value.getLinkIdsWithNonDefaultLinkColors(M,b).every(V=>g.includes(V))&&Hs(y,r.value,M):Hs(y,r.value,M))}}function mn(){f.stop(),n.value.selectChildren().remove(),w=void 0,B=0,q=0,Z=1,y=void 0,N=void 0,d=void 0,S=void 0,f=void 0,ki(),_(),x()}function ia(){a.isCanvasBoundToView&&(o||mn())}function sa(){u.value.links.forEach(g=>dn(g,n.value)),u.value.nodes.forEach(g=>mi(g,n.value)),u.value=new Au,c.value=!1,mn()}return(g,b)=>(Xe(),Ye(pe,null,[b[0]||(b[0]=se("div",{class:"graph-controller__graph-host uninitialised"},null,-1)),Fr(se("div",null,[De(Ff,{class:"graph-controller__info-text-background","show-controls-graph":"","show-latex-info":!0,"show-controls-environment":!1,"show-header":!0,"platform-type":Hn(s)},null,8,["platform-type"])],512),[[Wr,!c.value]])],64))}});customElements.define("graph-component",Mf(qm,{shadowRoot:!1}))});
